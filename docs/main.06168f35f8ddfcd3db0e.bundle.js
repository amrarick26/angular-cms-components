(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1005:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NewPageExample",(function(){return NewPageExample})),__webpack_require__.d(__webpack_exports__,"EditPageExample",(function(){return EditPageExample})),__webpack_require__.d(__webpack_exports__,"DeletePageExample",(function(){return DeletePageExample}));__webpack_require__(261);var _storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83),_public_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118);__webpack_exports__.default={title:"Admin/Page Editor",component:_public_api__WEBPACK_IMPORTED_MODULE_2__.b,parameters:{component:_public_api__WEBPACK_IMPORTED_MODULE_2__.b},decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({declarations:[],imports:[_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.BrowserModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.a,_public_api__WEBPACK_IMPORTED_MODULE_2__.a]})]};const NewPageExample=()=>({component:_public_api__WEBPACK_IMPORTED_MODULE_2__.b,props:{document:{ID:"",Doc:{Title:"",Url:"",Description:"",HeaderEmbeds:"",Content:"",FooterEmbeds:"",Active:!1,NavigationTitle:""}},editorOptions:{content_css:["https://mgrstoragetest.azureedge.net/buyerweb/styles.e94215343d3493186ae1.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"]}}}),EditPageExample=()=>({component:_public_api__WEBPACK_IMPORTED_MODULE_2__.b,props:{document:{ID:"4ad8bd98-3fe8-4caa-9402-0c8f2769d156",$schema:"https://marketplace-middleware-test.azurewebsites.net/schema-specs/5539d88d-2787-476c-9b61-cdadd181f12d",Doc:{Title:"Locations",Url:"locations",SiteUrl:"https://www.my-awesome-website.com",Description:"",MetaImageUrl:"",DateLastUpdated:"2020-07-30T21:48:54.957Z",HeaderEmbeds:"console.log('logged from header');",Content:'<h1>&nbsp;</h1>\n<h1><span style="color: #f1c40f;">LOCATIONS</span></h1>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-08-12" data-oc-end-date="2020-08-13">\n<div class="container">\n<div class="row align-items-center">\n<div class="col-xs-12 col-sm-12 col-md-6">\n<h4>Show row on: 08/12 to 08/13</h4>\n<p>Cras consequat faucibus purus, nec viverra elit molestie dictum. Nunc at tempor purus.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-secondary" href="#">Read More</a></div>\n<div class="col-xs-12 col-sm-12 col-md-6">\n<figure style="max-width: 100%;"><img style="max-width: 100%;" src="https://via.placeholder.com/600x250.png" /></figure>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-07-27" data-oc-end-date="2020-08-07">\n<div class="jumbotron border-0">\n<div class="container text-center">\n<h1>Show on: 07/27 to 08/07&nbsp;</h1>\n<p>Donec fermentum magna at ex pulvinar, sit amet viverra ex suscipit. Integer fringilla mauris vitae eleifend dictum.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-link" href="#">Read More</a></div>\n</div>\n</div>',FooterEmbeds:"console.log('logged from footer');",Active:!0,NavigationTitle:"Locations",Author:"Crhistian Ramirez",DateCreated:"2020-07-29T02:28:01.114Z"}},editorOptions:{content_css:["https://mgrstoragetest.azureedge.net/buyerweb/styles.e94215343d3493186ae1.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"]}}}),DeletePageExample=()=>({component:_public_api__WEBPACK_IMPORTED_MODULE_2__.b,props:{document:{ID:"4ad8bd98-3fe8-4caa-9402-0c8f2769d156",$schema:"https://marketplace-middleware-test.azurewebsites.net/schema-specs/5539d88d-2787-476c-9b61-cdadd181f12d",Doc:{Title:"Locations",Url:"locations",SiteUrl:"https://www.my-awesome-website.com",Description:"",MetaImageUrl:"",DateLastUpdated:"2020-07-30T21:48:54.957Z",HeaderEmbeds:"console.log('logged from header');",Content:'<h1>&nbsp;</h1>\n<h1><span style="color: #f1c40f;">LOCATIONS</span></h1>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-08-12" data-oc-end-date="2020-08-13">\n<div class="container">\n<div class="row align-items-center">\n<div class="col-xs-12 col-sm-12 col-md-6">\n<h4>Show row on: 08/12 to 08/13</h4>\n<p>Cras consequat faucibus purus, nec viverra elit molestie dictum. Nunc at tempor purus.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-secondary" href="#">Read More</a></div>\n<div class="col-xs-12 col-sm-12 col-md-6">\n<figure style="max-width: 100%;"><img style="max-width: 100%;" src="https://via.placeholder.com/600x250.png" /></figure>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-07-27" data-oc-end-date="2020-08-07">\n<div class="jumbotron border-0">\n<div class="container text-center">\n<h1>Show on: 07/27 to 08/07&nbsp;</h1>\n<p>Donec fermentum magna at ex pulvinar, sit amet viverra ex suscipit. Integer fringilla mauris vitae eleifend dictum.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-link" href="#">Read More</a></div>\n</div>\n</div>',FooterEmbeds:"console.log('logged from footer');",Active:!1,NavigationTitle:"Locations",Author:"Crhistian Ramirez",DateCreated:"2020-07-29T02:28:01.114Z"}},editorOptions:{content_css:["https://mgrstoragetest.azureedge.net/buyerweb/styles.e94215343d3493186ae1.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"]}}})},1006:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FullExample",(function(){return FullExample}));__webpack_require__(261);var _storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83),_public_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118);__webpack_exports__.default={title:"Admin/Page List",component:_public_api__WEBPACK_IMPORTED_MODULE_2__.c,parameters:{component:_public_api__WEBPACK_IMPORTED_MODULE_2__.c},decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({declarations:[],imports:[_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.BrowserModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.a,_public_api__WEBPACK_IMPORTED_MODULE_2__.a]})]};const FullExample=()=>({component:_public_api__WEBPACK_IMPORTED_MODULE_2__.c,template:'<div style="height:100vh"><cms-page-list [renderSiteUrl]="renderSiteUrl" [editorOptions]="editorOptions"></cms-page-list></div>',props:{renderSiteUrl:"https://www.my-awesome-website.com",editorOptions:{content_css:["https://mgrstoragetest.azureedge.net/buyerweb/styles.e94215343d3493186ae1.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css","https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"]}}})},1007:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FullExample",(function(){return FullExample}));__webpack_require__(261);var _storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83),_public_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118),_buyer_components_page_renderer_page_renderer_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(119);__webpack_exports__.default={title:"Buyer/Page Renderer",component:_buyer_components_page_renderer_page_renderer_component__WEBPACK_IMPORTED_MODULE_5__.a,parameters:{component:_buyer_components_page_renderer_page_renderer_component__WEBPACK_IMPORTED_MODULE_5__.a},decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({declarations:[],imports:[_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.BrowserModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.a,_public_api__WEBPACK_IMPORTED_MODULE_2__.a]})]};const FullExample=()=>({component:_buyer_components_page_renderer_page_renderer_component__WEBPACK_IMPORTED_MODULE_5__.a,props:{pageDoc:{ID:"4ad8bd98-3fe8-4caa-9402-0c8f2769d156",$schema:"https://marketplace-middleware-test.azurewebsites.net/schema-specs/5539d88d-2787-476c-9b61-cdadd181f12d",Doc:{Title:"Locations",Url:"locations",SiteUrl:"https://www.my-awesome-website.com",Description:"",MetaImageUrl:"",DateLastUpdated:"2020-07-30T21:48:54.957Z",HeaderEmbeds:"console.log('logged from header');",Content:'<h1>&nbsp;</h1>\n<h1><span style="color: #f1c40f;">LOCATIONS</span></h1>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-08-12" data-oc-end-date="2020-08-13">\n<div class="container">\n<div class="row align-items-center">\n<div class="col-xs-12 col-sm-12 col-md-6">\n<h4>Show row on: 08/12 to 08/13</h4>\n<p>Cras consequat faucibus purus, nec viverra elit molestie dictum. Nunc at tempor purus.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-secondary" href="#">Read More</a></div>\n<div class="col-xs-12 col-sm-12 col-md-6">\n<figure style="max-width: 100%;"><img style="max-width: 100%;" src="https://via.placeholder.com/600x250.png" /></figure>\n</div>\n</div>\n</div>\n</div>\n<p>&nbsp;</p>\n<div data-oc-widget="oc-section" data-oc-start-date="2020-07-27" data-oc-end-date="2020-08-07">\n<div class="jumbotron border-0">\n<div class="container text-center">\n<h1>Show on: 07/27 to 08/07&nbsp;</h1>\n<p>Donec fermentum magna at ex pulvinar, sit amet viverra ex suscipit. Integer fringilla mauris vitae eleifend dictum.</p>\n<a class="btn btn-primary" href="#">Start Now</a> <a class="btn btn-link" href="#">Read More</a></div>\n</div>\n</div>',FooterEmbeds:"console.log('logged from footer');",Active:!0,NavigationTitle:"Locations",Author:"Crhistian Ramirez",DateCreated:"2020-07-29T02:28:01.114Z"}}}})},119:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PageRendererComponent}));var tslib_es6=__webpack_require__(3),core=__webpack_require__(0),jquery=__webpack_require__(277);let widget_service_WidgetService=class WidgetService{constructor(){}applyDateRules(html){const element=jquery(`<div>${html}</div>`),sections=jquery(element).find("[data-oc-widget='oc-section']"),now=this.getNowDate();return sections.filter((index,section)=>{var _a,_b;const startDate=null===(_a=section.attributes.getNamedItem("data-oc-start-date"))||void 0===_a?void 0:_a.value,endDate=null===(_b=section.attributes.getNamedItem("data-oc-end-date"))||void 0===_b?void 0:_b.value;return startDate&&startDate>now||endDate&&endDate<now}).each((index,section)=>{section.remove()}),element.html()}getNowDate(){const today=new Date,dd=String(today.getDate()).padStart(2,"0"),mm=String(today.getMonth()+1).padStart(2,"0");return`${today.getFullYear()}-${mm}-${dd}`}};widget_service_WidgetService=Object(tslib_es6.b)([Object(core.Injectable)({providedIn:"root"}),Object(tslib_es6.c)("design:paramtypes",[])],widget_service_WidgetService);var page_renderer_component_a,page_renderer_component_b,_c,_d,_e,_f,index_esm=__webpack_require__(25),platform_browser=__webpack_require__(29),common=__webpack_require__(5);let PageRendererComponent=class PageRendererComponent{constructor(widgetService,metaService,titleService,renderer,document){this.widgetService=widgetService,this.metaService=metaService,this.titleService=titleService,this.renderer=renderer,this.document=document}ngOnInit(){const page=this.pageDoc.Doc;this.content=this.widgetService.applyDateRules(page.Content),this.setMetaData(page),this.loadScripts(page.HeaderEmbeds,page.FooterEmbeds)}setMetaData(page){this.titleService.setTitle(page.Title),this.metaService.updateTag({property:"application-name",content:page.SiteUrl}),this.metaService.updateTag({property:"description",content:page.Description}),this.metaService.updateTag({property:"og:type",content:"website"}),this.metaService.updateTag({property:"og:title",content:page.Title}),this.metaService.updateTag({property:"og:description",content:page.Description}),this.metaService.updateTag({property:"og:image",content:page.MetaImageUrl}),this.metaService.updateTag({property:"twitter:card",content:"summary"}),this.metaService.updateTag({property:"twitter:site",content:page.SiteUrl}),this.metaService.updateTag({property:"twitter:title",content:page.Title}),this.metaService.updateTag({property:"twitter:description",content:page.Description}),this.metaService.updateTag({property:"twitter:image",content:page.MetaImageUrl})}loadScripts(headerEmbeds,footerEmbeds){this.createScriptTag(headerEmbeds,"head"),this.createScriptTag(footerEmbeds,"body")}createScriptTag(content,appendTo){const script=this.renderer.createElement("script");script.type="text/javascript",script.textContent=content;const target=this.document.getElementsByTagName(appendTo)[0];this.renderer.appendChild(target,script)}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type","function"==typeof(page_renderer_component_a=void 0!==index_esm.JDocument&&index_esm.JDocument)?page_renderer_component_a:Object)],PageRendererComponent.prototype,"pageDoc",void 0),PageRendererComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-page-renderer",template:(__webpack_require__(242).default||__webpack_require__(242)).length?__webpack_require__(242).default||__webpack_require__(242):"",styles:[(__webpack_require__(243).default||__webpack_require__(243)).length?__webpack_require__(243).default||__webpack_require__(243):""]}),Object(tslib_es6.d)(4,Object(core.Inject)(common.b)),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(page_renderer_component_b=void 0!==widget_service_WidgetService&&widget_service_WidgetService)?page_renderer_component_b:Object,"function"==typeof(_c=void 0!==platform_browser.Meta&&platform_browser.Meta)?_c:Object,"function"==typeof(_d=void 0!==platform_browser.Title&&platform_browser.Title)?_d:Object,"function"==typeof(_e=void 0!==core.Renderer2&&core.Renderer2)?_e:Object,"function"==typeof(_f="undefined"!=typeof HTMLDocument&&HTMLDocument)?_f:Object])],PageRendererComponent)},164:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AssetListComponent}));var _a,_b,tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_ordercloud_headstart_sdk__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),ngx_spinner__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(64);let AssetListComponent=class AssetListComponent{constructor(spinner,modalService){this.spinner=spinner,this.modalService=modalService,this.loading=!0,this.assetTypes=["Image","Theme","Attachment","Structured"],this.selectedTab="Image"}ngOnInit(){this.listAssets(this.assetTypes[0],null)}listAssets(assetType,searchTerm){this.spinner.show();let options={filters:{Type:assetType}};return searchTerm&&(options=Object.assign(Object.assign({},options),{search:searchTerm,searchOn:["Title"]})),this.loading=!0,this.spinner.show(),_ordercloud_headstart_sdk__WEBPACK_IMPORTED_MODULE_2__.b.Assets.List(options).then(assets=>{this.assets=assets}).finally(()=>{this.loading=!1,this.spinner.hide()})}handleUploadAssetModal(modalRef){this.modalReference=this.modalService.open(modalRef,{size:"lg"})}handleSubmit(){this.modalReference.close(),this.listAssets(this.selectedTab,null)}handleSearch($event){this.listAssets(this.selectedTab,$event)}onChangeTab(event){this.selectedTab=event.nextId,this.listAssets(this.selectedTab,null)}};AssetListComponent=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.b)([Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Component)({selector:"cms-asset-list",template:(__webpack_require__(244).default||__webpack_require__(244)).length?__webpack_require__(244).default||__webpack_require__(244):"",styles:[(__webpack_require__(245).default||__webpack_require__(245)).length?__webpack_require__(245).default||__webpack_require__(245):""]}),Object(tslib__WEBPACK_IMPORTED_MODULE_0__.c)("design:paramtypes",["function"==typeof(_a=void 0!==ngx_spinner__WEBPACK_IMPORTED_MODULE_4__.b&&ngx_spinner__WEBPACK_IMPORTED_MODULE_4__.b)?_a:Object,"function"==typeof(_b=void 0!==_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.c&&_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_3__.c)?_b:Object])],AssetListComponent)},226:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-header">\r\n    <h4 class="modal-title">Browse Assets</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">\r\n        <span aria-hidden="true">&times;</span>\r\n    </button>\r\n</div>\r\n<div class="modal-body">\r\n    <form [formGroup]="searchForm">\r\n        <div class="form-group">\r\n            <label for="asset-search" ngbAutofocus class="sr-only">Search for an asset by title</label>\r\n            <input type="text" class="form-control" formControlName="search" id="asset-search"\r\n                placeholder="Search for an asset by title">\r\n        </div>\r\n    </form>\r\n    <div *ngIf="!list?.Items?.length && !loading">\r\n        <cms-no-results message="No assets were found"></cms-no-results>\r\n    </div>\r\n    <div class="asset-list" *ngIf="list?.Items?.length">\r\n        <div class="asset-item" *ngFor="let asset of list.Items" (click)="modal.close(asset)">\r\n            <img class="asset-item_img" src="{{asset.Url}}" alt="{{asset.title}}">\r\n        </div>\r\n    </div>\r\n    <div class="pagination-container">\r\n        <ngb-pagination [maxSize]="5" [boundaryLinks]="true" *ngIf="list" [collectionSize]="list.Meta.TotalCount"\r\n            [(pageSize)]="list.Meta.PageSize" [(page)]="list.Meta.Page" aria-label="Pagination Buttons"\r\n            (pageChange)="changePage($event)">\r\n        </ngb-pagination>\r\n    </div>\r\n</div>\r\n<div class="modal-footer">\r\n    <button type="button" class="btn btn-primary" (click)="modal.dismiss()">Close</button>\r\n</div>\r\n<ngx-spinner class="asset-picker-spinner" type = "ball-beat" bdColor="rgba(255, 255, 255, 0.38)" color="#969696" [fullScreen]="false"></ngx-spinner>'},227:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".asset-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin: -10px;\n}\n\n.asset-item {\n  cursor: pointer;\n  margin: 10px;\n}\n\n.asset-image {\n  max-width: 200px;\n}\n\n.modal-body {\n  min-height: 590px;\n}\n\n.pagination-container {\n  margin-top: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}"},228:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-header">\r\n    <h4 class="modal-title">Carousel Builder</h4>\r\n    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\r\n        <span aria-hidden="true">&times;</span>\r\n    </button>\r\n</div>\r\n<div class="modal-body">\r\n    <div class="row">\r\n        <div class="col-lg-6 col-xl-7">\r\n            <h4 class="text-muted">Drag to rearrange the order of your carousel slides</h4>\r\n            <button class="btn btn-primary add-image-btn" (click)="openAssetPicker()">Add Image</button>\r\n            <div class="slides">\r\n                <div class="slide" *ngFor="let slide of slides" (click)="selectSlide(slide)"\r\n                    [ngClass]="{\'slide-selected\': isSelected(slide)}">\r\n                    <img src="{{slide.ImageUrl}}" alt="{{slide.ImageTitle}}">\r\n                    <span (click)="deleteSlide(slide)" class="icon-delete_forever">\r\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\r\n                            <path\r\n                                d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z" />\r\n                            </svg>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="col-lg-6 col-xl-5" *ngIf="selectedSlide">\r\n            <h4 class="text-muted">Edit Slide {{getSlideIndex(selectedSlide) + 1}}</h4>\r\n            <form [formGroup]="slideEditForm" autocomplete="off">\r\n                <div class="form-group">\r\n                    <label for="slide-h1">Heading</label>\r\n                    <input formControlName="Heading" id="slide-h1" class="form-control" type="text" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="slide-h2">Subheading</label>\r\n                    <input formControlName="Subheading" id="slide-h2" class="form-control" type="text" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="slide-actiontext">Action Text</label>\r\n                    <input formControlName="ActionText" id="slide-actiontext" class="form-control" type="text" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="slide-actionurl">Action URL</label>\r\n                    <input formControlName="ActionUrl" id="slide-actionurl" class="form-control" type="text" />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <form [formGroup]="carouselSettingsForm" autocomplete="off">\r\n        <h4 class="text-muted">\r\n            Carousel Settings\r\n        </h4>\r\n        <div class="row">\r\n            <div class="col-lg-6 col-xl-4">\r\n                <div class="form-group">\r\n                    <label for="carousel-speed">Carousel Speed <span class="text-muted">(milliseconds)</span></label>\r\n                    <input formControlName="speed" id="carousel-speed" class="form-control" type="number"\r\n                        ngbAutofocus />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="carousel-slides-to-show">Slides to Show</label>\r\n                    <input formControlName="slidesToShow" id="carousel-slides-to-show" class="form-control"\r\n                        type="number" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="carousel-slides-to-scroll">Slides to Scroll</label>\r\n                    <input formControlName="slidesToScroll" id="carousel-slides-to-scroll" class="form-control"\r\n                        type="number" />\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="carousel-rows">Rows</label>\r\n                    <input formControlName="rows" id="carousel-rows" class="form-control" type="number" />\r\n                </div>\r\n            </div>\r\n            <div class="col-lg-6 col-xl-4 d-flex flex-column justify-content-between">\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="autoplay" type="checkbox" class="custom-control-input"\r\n                        id="carousel-autoplay">\r\n                    <label class="custom-control-label" for="carousel-autoplay">Autoplay</label>\r\n                </div>\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="infinite" type="checkbox" class="custom-control-input"\r\n                        id="carousel-infinite-loop">\r\n                    <label class="custom-control-label" for="carousel-infinite-loop">Infinite Loop</label>\r\n                </div>\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="dots" type="checkbox" class="custom-control-input" id="carousel-show-dots">\r\n                    <label class="custom-control-label" for="carousel-show-dots">Show Dots</label>\r\n                </div>\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="arrows" type="checkbox" class="custom-control-input"\r\n                        id="carousel-show-arrows">\r\n                    <label class="custom-control-label" for="carousel-show-arrows">Show Arrows</label>\r\n                </div>\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="centerMode" type="checkbox" class="custom-control-input"\r\n                        id="carousel-center-mode">\r\n                    <label class="custom-control-label" for="carousel-center-mode">Center Mode</label>\r\n                </div>\r\n                <div class="custom-control custom-checkbox">\r\n                    <input formControlName="fade" type="checkbox" class="custom-control-input"\r\n                        id="carousel-fade-transition">\r\n                    <label class="custom-control-label" for="carousel-fade-transition">Fade Transition</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </form>\r\n</div>\r\n<div class="modal-footer">\r\n    <button type="button" class="btn btn-primary" [disabled]="!slides.length" (click)="addCarousel()">Add\r\n        Carousel</button>\r\n</div>'},229:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".text-muted {\n  color: black;\n  opacity: 0.5;\n  font-size: 15px;\n}\n\n:host {\n  background-color: #F8F8F8;\n}\n\n.form-group {\n  margin-bottom: 0.6rem;\n  display: flex;\n}\n\n.form-group label {\n  flex-grow: 1;\n}\n\n.form-group input {\n  width: initial;\n}\n\n.slides {\n  display: grid;\n  margin: 0px -20px;\n  grid-template-columns: repeat(auto-fit, minmax(115px, 115px));\n  max-height: 230px;\n  overflow-y: auto;\n  cursor: move;\n}\n\n.slide-selected {\n  box-shadow: 0px 0px 17px -3px #ffe600;\n}\n\n.slide {\n  margin: 20px;\n  height: 75px;\n  width: 75px;\n  border-radius: 15px;\n  background-color: #C4C4C4;\n  position: relative;\n}\n\n.slide img {\n  -o-object-fit: cover;\n     object-fit: cover;\n  height: 100%;\n  width: 100%;\n  border-radius: 15px;\n}\n\n.slide .icon-delete_forever {\n  cursor: pointer;\n  position: absolute;\n  top: -7px;\n  right: -7px;\n  background-color: #FF4158;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  text-align: center;\n}\n\n.slide .icon-delete_forever svg {\n  fill: white;\n  width: 20px;\n  height: 20px;\n}\n\n.add-image-btn {\n  margin: 15px 0;\n}"},230:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-header">\r\n  <h4 class="modal-title">Section Template Library</h4>\r\n  <button\r\n    type="button"\r\n    class="close"\r\n    aria-label="Close"\r\n    (click)="modal.dismiss(\'Cross click\')"\r\n  >\r\n    <span aria-hidden="true">&times;</span>\r\n  </button>\r\n</div>\r\n<div class="modal-body py-0">\r\n  <div class="row">\r\n    <div class="col-sm-3"></div>\r\n    <div class="col-sm-9 section-picker_container py-3">\r\n      <div #list class="section-picker_list">\r\n        <div *ngFor="let template of sectionTemplates; index as i">\r\n          <cms-section-template-renderer\r\n            [html]="template"\r\n            [selected]="i === selectedTemplateIndex"\r\n            (click)="handleSelectTemplate(i)"\r\n            [previewWidth]="previewWidth"\r\n            [previewTransformRatio]="previewTransformRatio"\r\n            [remoteCss]="data.remoteCss"\r\n          ></cms-section-template-renderer>\r\n\r\n          <hr *ngIf="i < sectionTemplates.length - 1" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="modal-footer">\r\n  <button type="button" class="btn btn-primary" (click)="submit()">\r\n    Add Section\r\n  </button>\r\n</div>\r\n'},231:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".section-picker_container {\n  background: #f2f2f2;\n}\n\n.section-picker_list {\n  width: 100%;\n  overflow: hidden;\n}"},232:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-header">\r\n  <h4 class="modal-title">Date Settings</h4>\r\n  <button\r\n    type="button"\r\n    class="close"\r\n    aria-label="Close"\r\n    (click)="modal.dismiss(\'Cross click\')"\r\n  >\r\n    <span aria-hidden="true">&times;</span>\r\n  </button>\r\n</div>\r\n<div class="modal-body">\r\n  <div class="row">\r\n    <div class="col-md-6">\r\n      <div class="form-group">\r\n        <label for="startDate">Show Date</label>\r\n        <input\r\n          id="startDate"\r\n          type="date"\r\n          class="form-control"\r\n          [(ngModel)]="startDate"\r\n          aria-describedby="startDateHelp"\r\n        />\r\n        <small id="startDateHelp" class="form-text text-muted">\r\n          This section will not appear until this date. If left blank, the\r\n          section will be visible by default.\r\n        </small>\r\n      </div>\r\n    </div>\r\n    <div class="col-md-6">\r\n      <div class="form-group">\r\n        <label for="endDate">Hide Date</label>\r\n        <input\r\n          id="endDate"\r\n          type="date"\r\n          class="form-control"\r\n          [(ngModel)]="endDate"\r\n          aria-describedby="endDateHelp"\r\n        />\r\n        <small id="endDateHelp" class="form-text text-muted">\r\n          This section will hide starting on this date. If left blank, the\r\n          section will remain visible by default.\r\n        </small>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="modal-footer">\r\n  <button type="button" class="btn btn-primary" (click)="submit()">\r\n    Save Changes\r\n  </button>\r\n</div>\r\n'},233:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},234:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<editor\r\n  ng-if="resolvedEditorOptions"\r\n  [id]="tinymceId"\r\n  [init]="resolvedEditorOptions"\r\n  [(ngModel)]="html"\r\n  (onChange)="onEditorChange($event)"\r\n></editor>\r\n'},235:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".oc-tinymce-modal_backdrop {\n  z-index: 1350 !important;\n}\n\n.oc-tinymce-modal_window {\n  z-index: 1351 !important;\n}"},236:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="bg-light">\r\n  <div class="container-fluid border-bottom pt-3">\r\n    <div class="d-flex justify-content-between align-items-start mb-3">\r\n      <div class="flex-grow-0 flex-shrink-1">\r\n        <div class="d-flex justify-content-start align-items-center">\r\n          <div class="flex-grow-0 flex-shrink-1">\r\n            <button class="btn btn-link" (click)="backClicked.emit($event)">\r\n              <svg\r\n                xmlns="http://www.w3.org/2000/svg"\r\n                width="24"\r\n                height="24"\r\n                viewBox="0 0 24 24"\r\n                aria-hidden="true"\r\n              >\r\n                <path d="M14 7l-5 5 5 5V7z"></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <div class="flex-grow-0 flex-shrink-1 pr-3">\r\n            <h4 class="m-0">\r\n              {{ document.Doc.Title || "Untitled" }}\r\n            </h4>\r\n          </div>\r\n          <div class="flex-grow-0 flex-shrink-1" *ngIf="hasChanges">\r\n            <span class="badge badge-secondary">Unsaved Changes</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="flex-grow-0 flex-shrink-1">\r\n        <button *ngIf="isLoadingSave" class="btn btn-primary" type="button" disabled>\r\n          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\r\n          Saving...\r\n        </button>\r\n        <button\r\n          *ngIf="!isLoadingSave"\r\n          class="btn btn-primary"\r\n          [disabled]="!hasChanges || !isValid"\r\n          (click)="onSubmit()"\r\n        >\r\n          {{ document.ID ? "Save Changes" : "Create New Page" }}\r\n        </button>\r\n        <button\r\n          *ngIf="document.ID && document.Doc && !document.Doc.Active"\r\n          class="btn btn-outline-danger ml-3"\r\n          (click)="confirmDeletePage(confirmDeleteModalTemplate)"\r\n        >\r\n          Delete\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <ul ngbNav #nav="ngbNav" [(activeId)]="selectedTab" class="nav-tabs">\r\n      <li ngbNavItem="0" [destroyOnHide]="false">\r\n        <a ngbNavLink>Settings</a>\r\n        <ng-template ngbNavContent>\r\n          <div class="row">\r\n            <div class="col-sm-8">\r\n              <div class="form-group">\r\n                <label for="pageTitle">Page Title</label>\r\n                <input\r\n                  id="pageTitle"\r\n                  type="text"\r\n                  class="form-control"\r\n                  [(ngModel)]="page.Title"\r\n                  #pageTitle\r\n                  required\r\n                  maxlength="100"\r\n                  (keyup)="onPageTitleKeyUp(pageTitle.value)"\r\n                  placeholder="Choose a descriptive title for this page"\r\n                />\r\n                <small id="pageTitleHelp" class="form-text text-muted">\r\n                  {{ 100 - (page.Title ? page.Title.length : 0) }} / 100\r\n                  characters remaining.\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n              <label for="pageStatus">Page Status</label>\r\n              <div id="pageStatus">\r\n                <div class="custom-control custom-radio custom-control-inline">\r\n                  <input\r\n                    type="radio"\r\n                    id="pageActive1"\r\n                    name="pageActiveStatus"\r\n                    class="custom-control-input"\r\n                    [checked]="page.Active"\r\n                    (change)="onPageStatusChange()"\r\n                  />\r\n                  <label class="custom-control-label" for="pageActive1"\r\n                    >Active</label\r\n                  >\r\n                </div>\r\n                <div class="custom-control custom-radio custom-control-inline">\r\n                  <input\r\n                    type="radio"\r\n                    id="pageActive2"\r\n                    name="pageActiveStatus"\r\n                    class="custom-control-input"\r\n                    [checked]="!page.Active"\r\n                    (change)="onPageStatusChange()"\r\n                  />\r\n                  <label class="custom-control-label" for="pageActive2"\r\n                    >Disabled</label\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="form-group">\r\n            <div class="custom-control custom-checkbox">\r\n              <input\r\n                class="custom-control-input"\r\n                id="pageNavigation"\r\n                type="checkbox"\r\n                (change)="onPageNavigationChange()"\r\n                [(ngModel)]="pageNavigation"\r\n              />\r\n              <label class="custom-control-label" for="pageNavigation"\r\n                >Show in navigation</label\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class="form-group" [ngbCollapse]="!pageNavigation">\r\n            <label for="pageNavigationTitle">Navigation Title</label>\r\n            <input\r\n              id="pageNavigationTitle"\r\n              type="text"\r\n              class="form-control"\r\n              placeholder="Choose a short, one to three word title for navigation elements"\r\n              [(ngModel)]="page.NavigationTitle"\r\n              (ngModelChange)="onPageNavigationTitleChange($event)"\r\n            />\r\n          </div>\r\n          <div class="form-group">\r\n            <div class="custom-control custom-checkbox">\r\n              <input\r\n                class="custom-control-input"\r\n                id="automaticUrl"\r\n                type="checkbox"\r\n                (change)="onAutomaticUrlChange()"\r\n                [(ngModel)]="automaticUrl"\r\n              />\r\n              <label class="custom-control-label" for="automaticUrl"\r\n                >Generate Page Location based on Page Title</label\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class="form-group">\r\n            <label for="pageUrl">Page Location</label>\r\n\r\n            <div class="input-group">\r\n              <div class="input-group-prepend">\r\n                <span class="input-group-text">{{ renderSiteUrl }}/pages/</span>\r\n              </div>\r\n              <input\r\n                id="pageUrl"\r\n                type="text"\r\n                class="form-control"\r\n                [(ngModel)]="page.Url"\r\n                (ngModelChange)="onPageUrlChange($event)"\r\n                [readOnly]="automaticUrl"\r\n                required\r\n                aria-describedby="pageUrlHelp"\r\n                placeholder="Choose a location for this page"\r\n              />\r\n            </div>\r\n            <small id="pageUrlHelp" class="form-text text-muted"\r\n              >Kebab case recommended, use text relevant to this page for best\r\n              SEO results. When "Generate" is checked, we will come up with a\r\n              SEO friendly URL for you.\r\n            </small>\r\n          </div>\r\n          <div class="form-group">\r\n            <label for="pageTitle">Description</label>\r\n            <textarea\r\n              id="pageDescription"\r\n              type="text"\r\n              class="form-control"\r\n              [(ngModel)]="page.Description"\r\n              maxlength="300"\r\n              required\r\n              aria-describedby="pageDescriptionHelp"\r\n              placeholder="Describe this page in 300 characters or less"\r\n            ></textarea>\r\n            <small id="pageDescriptionHelp" class="form-text text-muted">\r\n              {{ 300 - (page.Description ? page.Description.length : 0) }} / 300\r\n              characters remaining.\r\n            </small>\r\n          </div>\r\n        </ng-template>\r\n      </li>\r\n      <li ngbNavItem="1" [destroyOnHide]="false">\r\n        <a ngbNavLink>Content</a>\r\n        <ng-template ngbNavContent>\r\n          <div class="form-group">\r\n            <label for="pageContent" class="sr-only">Page Content</label>\r\n            <cms-html-editor\r\n              [initialValue]="page.Content"\r\n              [editorOptions]="editorOptions"\r\n              (htmlChange)="onPageContentChange($event)"\r\n            ></cms-html-editor>\r\n          </div>\r\n        </ng-template>\r\n      </li>\r\n      <li ngbNavItem="2" [destroyOnHide]="false">\r\n        <a ngbNavLink>Embeds</a>\r\n        <ng-template ngbNavContent>\r\n          <div class="form-group">\r\n            <label for="pageHeaderEmbeds">Header Embeds</label>\r\n            <textarea\r\n              id="pageHeaderEmbeds"\r\n              type="text"\r\n              rows="4"\r\n              class="form-control"\r\n              [(ngModel)]="page.HeaderEmbeds"\r\n              placeholder="Copy and paste any scripts you want to execute in the <head> element"\r\n            ></textarea>\r\n          </div>\r\n          <div class="form-group">\r\n            <label for="pageFooterEmbeds">Footer Embeds</label>\r\n            <textarea\r\n              id="pageFooterEmbeds"\r\n              type="text"\r\n              rows="4"\r\n              class="form-control"\r\n              [(ngModel)]="page.FooterEmbeds"\r\n              placeholder="Copy and paste any scripts you want to execute at the bottom of the <body> element"\r\n            ></textarea>\r\n          </div>\r\n        </ng-template>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n<div class="tab-container container-fluid pt-3" [ngbNavOutlet]="nav"></div>\r\n\r\n\x3c!-- CONFIRM DELETE MODAL --\x3e\r\n<ng-template #confirmDeleteModalTemplate>\r\n  <cms-confirm-modal\r\n    message="Are you sure you want to delete this page?"\r\n    (proceed)="onDelete()"\r\n    (cancel)="confirmModal.close()"\r\n  >\r\n  </cms-confirm-modal>\r\n</ng-template>\r\n'},237:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  width: 100%;\n}\n\n.text-muted {\n  color: black;\n  opacity: 0.5;\n  font-size: 15px;\n}\n\n.nav-tabs {\n  margin-bottom: -1px;\n}\n\n.tab-container {\n  height: calc(100% - 114px);\n  overflow-y: auto;\n}"},238:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-content">\r\n  <div class="modal-body">\r\n    <h5 class="text-center">{{message || \'Are you sure?\'}}</h5>\r\n  </div>\r\n  <div class="modal-footer">\r\n    <button (click)="cancel.emit()"\r\n            type="button"\r\n            class="btn btn-secondary">{{cancelText || \'Cancel\'}}</button>\r\n    <button (click)="proceed.emit()"\r\n            type="button"\r\n            class="btn btn-primary">{{confirmText || \'Proceed\'}}</button>\r\n  </div>\r\n</div>'},239:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},240:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="no-results">\n    <p class="no-results_msg text-center">\n        {{message}}\n    </p>\n</div>'},241:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  width: 100%;\n}\n\n.no-results {\n  background-color: #ececec;\n  width: 100%;\n  border-radius: 15px;\n  margin-top: 5%;\n}\n\n.no-results_msg {\n  padding: 5px 0 5px 0;\n}"},242:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div [innerHtml]="content | safeHtml"></div>'},243:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},244:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<h1>Assets</h1>\r\n<ul\r\n  ngbNav\r\n  #nav="ngbNav"\r\n  (navChange)="onChangeTab($event)"\r\n  [(activeId)]="selectedTab"\r\n  class="nav-tabs mb-3"\r\n>\r\n  <li *ngFor="let type of assetTypes" [ngbNavItem]="type">\r\n    <a ngbNavLink>{{ type }}s</a>\r\n    <ng-template ngbNavContent>\r\n      <div class="row mb-3">\r\n        <div class="col-12 co-sm-4 col-md-3 col-xl-2">\r\n          <button\r\n            class="btn btn-block btn-outline-primary"\r\n            (click)="handleUploadAssetModal(uploadAssetModal)"\r\n          >\r\n            Upload {{ type }}\r\n          </button>\r\n        </div>\r\n        <div class="col">\r\n          <cms-asset-search\r\n            [assetType]="type"\r\n            placeholderText="{{ \'Search \' + type + \'s\' }}"\r\n            [searchTerm]=""\r\n            (searched)="handleSearch($event)"\r\n          ></cms-asset-search>\r\n        </div>\r\n      </div>\r\n      <div *ngIf="!loading">\r\n        <div *ngFor="let asset of assets.Items">\r\n          <cms-asset-update\r\n            [assetType]="type"\r\n            [isNew]="false"\r\n            [asset]="asset"\r\n            (onDelete)="listAssets(type, null)"\r\n          ></cms-asset-update>\r\n        </div>\r\n        <div class="no-results" *ngIf="assets && !assets.Items.length">\r\n          <cms-no-results message="No {{ type }}s found"></cms-no-results>\r\n        </div>\r\n      </div>\r\n    </ng-template>\r\n  </li>\r\n</ul>\r\n\r\n<div class="container-fluid">\r\n  <div [ngbNavOutlet]="nav"></div>\r\n</div>\r\n\r\n<ng-template #uploadAssetModal>\r\n  <cms-asset-upload\r\n    [assetType]="selectedTab"\r\n    (cancel)="modalReference.dismiss()"\r\n    (submit)="handleSubmit()"\r\n  ></cms-asset-upload>\r\n</ng-template>\r\n\r\n\x3c!-- LOADING INDICATOR --\x3e\r\n<ngx-spinner\r\n  class="assetlist-spinner"\r\n  type="ball-beat"\r\n  bdColor="rgba(255, 255, 255, 0.38)"\r\n  color="#969696"\r\n  [fullScreen]="false"\r\n></ngx-spinner>\r\n'},245:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=".no-results p {\n  text-align: center;\n}"},246:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="tab-container">\r\n  <form *ngIf="assetForm" [formGroup]="assetForm">\r\n    <div class="row">\r\n      <div class="form-group col-12 co-sm-4 col-md-3 col-xl-2">\r\n        <img\r\n          *ngIf="(assetForm?.controls)[\'Url\']?.value && assetType == \'Image\'"\r\n          class="card-img-top img-fluid flex-shrink-0"\r\n          [src]="assetForm.controls[\'Url\'].value"\r\n        />\r\n        <div *ngIf="isNew">\r\n          <small>{{ (assetForm?.controls)["FileName"]?.value }}</small>\r\n          <button\r\n            *ngIf="(assetForm?.controls)[\'Url\']?.value"\r\n            type="button"\r\n            class="btn btn-sm btn-danger"\r\n            (click)="deleteFile()"\r\n          >\r\n            Remove {{ assetType }}\r\n          </button>\r\n          <div\r\n            *ngIf="!(assetForm?.controls)[\'Url\']?.value"\r\n            class="dropzone"\r\n            cmsDragAndDrop\r\n            (fileDropped)="uploadFile($event)"\r\n          >\r\n            <input\r\n              type="file"\r\n              #fileDropRef\r\n              id="fileDropRef"\r\n              (change)="uploadFile($event.target.files[0])"\r\n            />\r\n            <p>Drage and drop {{ assetType }} here</p>\r\n            <p>or</p>\r\n            <label for="fileDropRef">Browse for file</label>\r\n          </div>\r\n        </div>\r\n        <input\r\n          [hidden]="true"\r\n          class="form-control"\r\n          id="{{ asset ? asset.ID : \'new\' }}"\r\n          type="file"\r\n          accept="image/*,.pdf"\r\n          (change)="uploadFile($event.target.files[0])"\r\n          placeholder="Upload file"\r\n        />\r\n        <button *ngIf="!isNew" type="button" class="btn btn-default">\r\n          <label class="mb-0" for="{{ asset ? asset.ID : \'new\' }}">\r\n            <small>\r\n              {{\r\n                assetForm.controls["Url"] && assetForm.controls["Url"].value\r\n                  ? "Replace"\r\n                  : "Add"\r\n              }}\r\n              <span class="d-none d-sm-block">{{ assetType }}</span>\r\n            </small>\r\n          </label>\r\n        </button>\r\n      </div>\r\n      <div class="form-group col">\r\n        <label for="Title">Title</label>\r\n        <input\r\n          type="text"\r\n          formControlName="Title"\r\n          class="form-control"\r\n          id="Title"\r\n          placeholder="Title"\r\n          autofocus="true"\r\n          pattern="([A-Za-z0-9\\-\\_]+)"\r\n          autocomplete="off"\r\n        />\r\n        <label for="ID">ID</label>\r\n        <input\r\n          type="text"\r\n          formControlName="ID"\r\n          class="form-control"\r\n          id="ID"\r\n          placeholder="ID"\r\n          autofocus="true"\r\n          pattern="([A-Za-z0-9\\-\\_]+)"\r\n          autocomplete="off"\r\n        />\r\n        <label for="Url">Url</label>\r\n        <input\r\n          type="text"\r\n          formControlName="Url"\r\n          class="form-control"\r\n          id="Url"\r\n          placeholder="Url"\r\n          autofocus="true"\r\n          autocomplete="off"\r\n        />\r\n        <div class="checkbox">\r\n          <label for="{{ asset ? \'Active_\' + asset.ID : \'newActive\' }}">\r\n            <input\r\n              formControlName="Active"\r\n              type="checkbox"\r\n              id="{{ asset ? \'Active_\' + asset.ID : \'newActive\' }}"\r\n            />\r\n            Active\r\n          </label>\r\n        </div>\r\n        <button\r\n          class="btn btn-sm btn-primary"\r\n          [disabled]="!formValid()"\r\n          (click)="saveChanges(assetForm)"\r\n        >\r\n          {{ isNew ? "Create " + assetType : "Save Changes" }}\r\n        </button>\r\n        <button\r\n          *ngIf="!isNew"\r\n          class="btn btn-sm btn-danger"\r\n          (click)="deleteAsset(asset.ID)"\r\n        >\r\n          Delete {{ assetType }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </form>\r\n</div>\r\n'},247:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=":host {\n  width: 100%;\n}\n\n.dropzone {\n  padding: 2rem;\n  text-align: center;\n  border: dashed 1px #979797;\n  position: relative;\n  margin: 0 auto;\n}\n\n.dropzone input {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n}\n\n.dropzone label {\n  color: white;\n  width: 183px;\n  height: 44px;\n  border-radius: 21.5px;\n  background-color: #979797;\n  padding: 8px 16px;\n}\n\n.fileover {\n  background-color: #bbff94;\n}"},248:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div class="modal-content">\r\n    <div class="modal-body">\r\n        <h2>New {{assetType}}</h2>\r\n        <cms-asset-update [assetType]="assetType" \r\n        [isNew]="true"\r\n        (onSubmit)="submit.emit($event)"></cms-asset-update>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button class="btn btn-outline-grey" (click)="cancel.emit()">\r\n            Cancel\r\n        </button>\r\n    </div>\r\n</div>'},249:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},250:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<form [formGroup]="form"\r\n#searchform\r\n(ngSubmit)="search()">\r\n    <label for="search-addon"\r\n    class="sr-only">{{placeholderText || \'Search...\'}}</label>\r\n    <div class="input-group">\r\n        <input type="search"\r\n            class="form-control"\r\n            placeholder="{{placeholderText || \'Search...\'}}"\r\n            aria-label="Asset search"\r\n            id="search-addon"\r\n            formControlName="search" />\r\n        <div *ngIf="showClear()" class="input-group-append">\r\n            <button type="submit"\r\n                    class="btn btn-default">\r\n                    Submit\r\n            </button>\r\n            <button (click)="clear()"\r\n                    type="button"\r\n                    class="btn btn-outline text-danger">\r\n                    Clear Search\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form> '},251:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='\x3c!-- LIST VIEW --\x3e\r\n<div *ngIf="!selected" class="main-content">\r\n  <div class="d-flex align-items-center justify-content-start p-3">\r\n    <div class="flex-grow-0 flex-shrink-1 pr-2">\r\n      <button\r\n        type="button"\r\n        (click)="selectPage()"\r\n        class="btn btn-outline-primary w-100"\r\n      >\r\n        New Page\r\n      </button>\r\n    </div>\r\n    \x3c!-- TODO: enable search/filter once it works better --\x3e\r\n    \x3c!-- <div class="flex-grow-0 flex-shrink-1 pr-2">\r\n      <input\r\n        type="search"\r\n        class="form-control"\r\n        [(ngModel)]="searchTerm"\r\n        (ngModelChange)="onSearchFieldChange($event)"\r\n        placeholder="Search by title"\r\n      />\r\n    </div>\r\n    <div class="flex-grow-0 flex-shrink-1">\r\n      <svg\r\n        xmlns="http://www.w3.org/2000/svg"\r\n        height="24"\r\n        viewBox="0 0 24 24"\r\n        width="24"\r\n      >\r\n        <path d="M0 0h24v24H0z" fill="none" />\r\n        <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" />\r\n      </svg>\r\n    </div> --\x3e\r\n  </div>\r\n  <div\r\n    class="table-responsive"\r\n    *ngIf="!loading && list?.Items?.length && !page?.length"\r\n  >\r\n    <table class="table table-hover page-list-table">\r\n      <thead>\r\n        <tr>\r\n          <th>Title</th>\r\n          <th>Created By</th>\r\n          <th>Date Created</th>\r\n          <th>Last Updated</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          *ngFor="let contentDoc of list.Items"\r\n          (click)="selectPage(contentDoc)"\r\n        >\r\n          <td>\r\n            <cms-status-icon\r\n              [status]="contentDoc.Doc.Active ? \'active\' : \'disabled\'"\r\n              class="mr-1"\r\n            ></cms-status-icon>\r\n            {{ contentDoc.Doc.Title }}\r\n          </td>\r\n          <td>{{ contentDoc.Doc.Author }}</td>\r\n          <td>{{ contentDoc.Doc.DateCreated | date: "short" }}</td>\r\n          <td>\r\n            {{ contentDoc.Doc.DateLastUpdated | date: "short" }} by\r\n            {{ contentDoc.Doc.LastUpdatedBy }}\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div *ngIf="!loading && !list?.Items?.length">\r\n    <cms-no-results message="No pages found"></cms-no-results>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- DETAIL VIEW --\x3e\r\n<div class="d-flex main-content" *ngIf="selected">\r\n  <div class="flex-shrink-0 flex-grow-0 border-right">\r\n    <div class="d-flex align-items-center justify-content-start p-3">\r\n      <div class="flex-grow-0 flex-shrink-1 pr-2">\r\n        <button\r\n          type="button"\r\n          (click)="selectPage()"\r\n          class="btn btn-outline-primary w-100"\r\n        >\r\n          New Page\r\n        </button>\r\n      </div>\r\n      \x3c!-- TODO: enable search/filter once it works better --\x3e\r\n      \x3c!-- <div class="flex-grow-0 flex-shrink-1 pr-2">\r\n        <input\r\n          type="search"\r\n          class="form-control"\r\n          [(ngModel)]="searchTerm"\r\n          (ngModelChange)="onSearchFieldChange($event)"\r\n          placeholder="Search by title"\r\n        />\r\n      </div>\r\n      <div class="flex-grow-0 flex-shrink-1">\r\n        <svg\r\n          xmlns="http://www.w3.org/2000/svg"\r\n          height="24"\r\n          viewBox="0 0 24 24"\r\n          width="24"\r\n        >\r\n          <path d="M0 0h24v24H0z" fill="none" />\r\n          <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" />\r\n        </svg>\r\n      </div> --\x3e\r\n    </div>\r\n    <div class="table-responsive">\r\n      <table class="table table-hover">\r\n        <thead>\r\n          <tr>\r\n            <th>Title</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor="let page of list.Items" (click)="selectPage(page)">\r\n            <td>\r\n              <cms-status-icon\r\n                [status]="page.Doc.Active ? \'active\' : \'disabled\'"\r\n                class="mr-1"\r\n              ></cms-status-icon>\r\n              {{ page.Doc.Title }}<br />\r\n              <small class="text-muted"\r\n                >Updated by {{ page.Doc.LastUpdatedBy }} on\r\n                {{ page.Doc.DateLastUpdated | date: "short" }}</small\r\n              >\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div class="flex-grow-1 flex-shrink-1">\r\n    <cms-page-editor\r\n      (backClicked)="goToList($event)"\r\n      (pageSaved)="onPageSaved($event)"\r\n      (pageDeleted)="onPageDeleted($event)"\r\n      [renderSiteUrl]="renderSiteUrl"\r\n      [editorOptions]="editorOptions"\r\n      [document]="selected"\r\n    >\r\n    </cms-page-editor>\r\n  </div>\r\n</div>\r\n\r\n\x3c!-- LOADING INDICATOR --\x3e\r\n<ngx-spinner\r\n  type="ball-beat"\r\n  bdColor="rgba(255, 255, 255, 0.38)"\r\n  color="#969696"\r\n  [fullScreen]="false"\r\n></ngx-spinner>\r\n'},256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=':host {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: block;\n}\n\n.main-content {\n  height: 100%;\n}\n\n.table-responsive {\n  height: calc(100% - 70px);\n  border-top: 1px solid #dee2e6;\n}\n\n.table-responsive > .table > thead > tr > th {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  border-top: 0;\n  border-bottom: 0;\n  background: white;\n}\n\n.table-responsive > .table > thead > tr > th:after {\n  content: " ";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 1px;\n  background-color: #dee2e6;\n}\n\n.table-responsive > .table > tbody > tr:first-of-type > td {\n  border-top: 0;\n}'},257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<svg xmlns="http://www.w3.org/2000/svg" [attr.fill]="color" height="24" viewBox="0 0 24 24" width="16">\r\n    <circle cx="12" cy="10" r="8" /></svg>'},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default=""},259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='<div\r\n  #root\r\n  class="section-template-renderer_root"\r\n  [ngClass]="{ selected: selected, loading: !rootHeight }"\r\n  [ngStyle]="{ \'height.px\': rootHeight }"\r\n>\r\n  <iframe\r\n    *ngIf="iframeSource"\r\n    #iframe\r\n    class="section-template-renderer_iframe"\r\n    [ngStyle]="{\r\n      \'height.px\': height,\r\n      \'width.px\': previewWidth,\r\n      transform: transform\r\n    }"\r\n    [src]="iframeSource"\r\n    scrolling="no"\r\n    (load)="onIframeLoaded()"\r\n  ></iframe>\r\n</div>\r\n'},260:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default='.section-template-renderer_iframe {\n  border: none;\n  transform-origin: left top;\n  pointer-events: none;\n}\n\n.section-template-renderer_root {\n  border: 2px solid #c4c4c4;\n  border-radius: 8px;\n  overflow: hidden;\n  margin-bottom: 15px;\n  cursor: pointer;\n}\n\n.section-template-renderer_root.loading {\n  position: relative;\n}\n\n.section-template-renderer_root.loading:after {\n  content: " ";\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: #c4c4c4;\n}\n\n.section-template-renderer_root.selected {\n  border-color: blue;\n}'},261:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(868),__webpack_require__(79),__webpack_require__(98),__webpack_require__(99),__webpack_require__(408),__webpack_require__(74),__webpack_require__(208),__webpack_require__(101),__webpack_require__(148),__webpack_require__(431),__webpack_require__(125),__webpack_require__(81),__webpack_require__(869),__webpack_require__(177),__webpack_require__(318),__webpack_require__(126),__webpack_require__(319),__webpack_require__(180),__webpack_require__(410),__webpack_require__(409),__webpack_require__(127),__webpack_require__(333),__webpack_require__(131),__webpack_require__(210),__webpack_require__(128),__webpack_require__(67),__webpack_require__(178),__webpack_require__(870),__webpack_require__(129),__webpack_require__(130),__webpack_require__(435),__webpack_require__(103),__webpack_require__(871),__webpack_require__(104),__webpack_require__(105),__webpack_require__(334);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}!function(o){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=o,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t){t.exports=tinymce},function(t,e,o){function i(t,e,o){var n="function"==typeof e.attr?e.attr(u):t.dom.getAttrib(e,u),r=new RegExp("\\b".concat(o,"\\b"));return n&&r.test(n)}function n(d){function n(t){return"\n      <div ".concat(u,'="').concat(c,'" data-oc-product-id="').concat(t.ID,'">\n        ').concat(d.settings.ordercloud.product_display_html_callback?d.settings.ordercloud.product_dislay_html_callback(t):'\n          <div class="card">\n            <div class="card-body">\n              <h3 class="card-title">'.concat(t.Name,'</h3>\n              <p class="card-text">').concat(t.Description,"</p>\n            </div>\n          </div>\n        "),"\n      </div><br/>")}function o(t,e,o){var c,i=o;function r(t,e){return t?[{type:"alertbanner",level:"error",icon:"warning",text:"There was a problem connecting to OrderCloud. Please check that you've provided a valid token."}]:[{label:"Search",type:"input",name:"productSearch",placeholder:"Search for a product..."},{type:"label",label:"Choose a product",items:e.map((function(t){return{type:"checkbox",name:"product__".concat(t.ID),label:"".concat(t.Name)}}))}]}var a={title:"Select a Product",body:{type:"panel",items:r(t,e)},initialData:{productSearch:""},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",primary:!0}],onChange:function onChange(e,o){var t,n,r=e.getData();"productSearch"===o.name&&(c&&clearTimeout(c),c=setTimeout((function(){fetch("https://api.ordercloud.io/v1/me/products?search=".concat(r.productSearch),l).then((function(t){t.ok?t.json().then((function(t){e.redial(u(!1,r.productSearch,t.Items)),e.focus("productSearch")})):e.redial(u(!0))}))}),300)),o.name.includes("product__")&&(t=o.name.split("__")[1],i=r[o.name]?t:"",n={},Object.keys(r).forEach((function(t){t.includes("product__")&&t!==o.name&&(n[t]=!1)})),e.setData(n))},onSubmit:function onSubmit(e){fetch("https://api.ordercloud.io/v1/me/products/".concat(i),l).then((function(t){t.ok?t.json().then((function(t){d.insertContent(n(t)),e.close()})):e.close()}))}};function u(t,e,o){var n=Object.assign({},a);return n.body.items=r(t,o),n.initialData.productSearch=e||"",i&&(n.initialData["product__".concat(i)]=!0),n}return i&&(a.initialData["product__".concat(i)]=!0),d.windowManager.open(a)}function e(e){fetch("https://api.ordercloud.io/v1/me/products",l).then((function(t){return t.ok?void t.json().then((function(t){return o(!1,t.Items,e)})):o(!0)}))}var l={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d.settings.ordercloud.access_token)}};d.ui.registry.addIcon("insert-product",'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm2 4v-2H3c0 1.1.89 2 2 2zM3 9h2V7H3v2zm12 12h2v-2h-2v2zm4-18H9c-1.11 0-2 .9-2 2v10c0 1.1.89 2 2 2h10c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12H9V5h10v10zm-8 6h2v-2h-2v2zm-4 0h2v-2H7v2z"/></svg>'),d.ui.registry.addButton("oc-product",{icon:"insert-product",text:"Product",tooltip:"Insert a Product",onAction:function onAction(){e()}}),d.ui.registry.addButton("oc-product-change",{icon:"edit-block",tooltip:"Change Product",onAction:function onAction(){e(d.dom.getAttrib(d.selection.getNode(),"data-oc-product-id"))}}),d.ui.registry.addButton("oc-product-refresh",{icon:"reload",tooltip:"Refresh Product Data",onAction:function onAction(){var t=d.dom.getAttrib(d.selection.getNode(),"data-oc-product-id");fetch("https://api.ordercloud.io/v1/me/products/".concat(t),l).then((function(t){t.ok?t.json().then((function(t){var e=n(t);d.selection.setNode(null),d.insertContent(e)})):alert("Product Not Found")}))}}),d.ui.registry.addButton("oc-product-remove",{icon:"remove",tooltip:"Remove Product",onAction:function onAction(){d.selection.setNode(d.dom.create("p"))}}),d.ui.registry.addContextToolbar("oc-product",{predicate:function predicate(t){return i(d,t,c)},items:"oc-product-remove | oc-product-refresh oc-product-change",position:"node",scope:"node"}),d.on("preInit",(function(){function t(r){return function(t){var e,o=t.length;function n(t){t.attr("contenteditable",r?"true":null)}for(;o--;)e=t[o],i(d,e,c)&&(e.attr("contenteditable",r?"false":null),a.a.each(e.getAll("a"),n))}}d.parser.addNodeFilter("div",t(!0)),d.serializer.addNodeFilter("div",t(!1))}))}o.r(e);var r=o(0),a=o.n(r),u="data-oc-widget",c="oc-product";function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=Array(e);o<e;o++)n[o]=t[o];return n}function m(r){r.ui.registry.addMenuItem("oc-row",{text:"Insert Row",onAction:function onAction(){return tinymce.activeEditor.insertContent(h)}}),r.ui.registry.addButton("oc-row-remove",{icon:"remove",tooltip:"Remove Row",onAction:function onAction(){var t=tinymce.activeEditor.selection.getNode();tinymce.dom.DomQuery(t).remove(),tinymce.activeEditor.execCommand("mceRemoveNode")}}),r.ui.registry.addButton("oc-col-add",{text:"Add Column",icon:"plus",onAction:function onAction(){tinymce.activeEditor.selection.getNode().append(tinymce.activeEditor.dom.createFragment(v))}}),r.ui.registry.addButton("oc-col-remove",{icon:"remove",tooltip:"Remove Column",onAction:function onAction(){var t=tinymce.activeEditor.selection.getNode();tinymce.dom.DomQuery(t).parentsUntil(".row").first().remove(),tinymce.activeEditor.execCommand("mceRemoveNode")}}),r.ui.registry.addButton("oc-col-edit",{icon:"edit-block",text:"Edit",tooltip:"Edit Column",onAction:function onAction(){var e=tinymce.activeEditor.selection.getNode(),t=function(t){var e=tinymce.activeEditor.dom.getAttrib(t,"class").split(" ");function o(t){return t?new RegExp("(col-".concat(t,"$)|(col-").concat(t,"-(\\d{1,2}))$\\b")):/(col-\d)|(col)$\b/}var n={default:o(),xs:o("xs"),sm:o("sm"),md:o("md"),lg:o("lg"),xl:o("xl")},r={default:e.find((function(t){return n.default.test(t)})),xs:e.find((function(t){return n.xs.test(t)})),sm:e.find((function(t){return n.sm.test(t)})),md:e.find((function(t){return n.md.test(t)})),lg:e.find((function(t){return n.lg.test(t)})),xl:e.find((function(t){return n.xl.test(t)}))};return Object.keys(r).forEach((function(t){var e;r[t]?(e=r[t].split("-"),r[t]=/(\d{1,2})$/.test(r[t])?2<e.length?e[2]:e[1]:"auto"):r[t]=""})),console.table(r),r}(e),o=Object.keys(t),n={default:"All Sizes",xs:"Mobile Devices",sm:"Tablets",md:"Laptops",lg:"Desktops",xl:"Large Desktops"};tinymce.activeEditor.windowManager.open({title:"Edit Column",body:{type:"panel",items:o.map((function(t){return{type:"selectbox",name:t,label:n[t],size:1,items:[{value:"",text:"None"},{value:"auto",text:"Auto"},{value:"1",text:"1/12"},{value:"2",text:"2/12"},{value:"3",text:"3/12"},{value:"4",text:"4/12"},{value:"5",text:"5/12"},{value:"6",text:"6/12"},{value:"7",text:"7/12"},{value:"8",text:"8/12"},{value:"9",text:"9/12"},{value:"10",text:"10/12"},{value:"11",text:"11/12"},{value:"12",text:"12/12"}]}}))},initialData:t,buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Save",primary:!0}],onSubmit:function onSubmit(t){return function(t,e){var o=t.getData(),r=[];Object.entries(o).forEach((function(t){var e=function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var c,o=[],n=!0,r=!1;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(o.push(i.value),!e||o.length!==e);n=!0);}catch(t){r=!0,c=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw c}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=e[0],n=e[1];n&&r.push("col".concat("auto"===n&&"default"===o?"":"-".concat("default"===o?n:"".concat(o,"-").concat(n))))})),r.length||r.push("col"),tinymce.activeEditor.dom.setAttrib(e,"class",r.join(" ")),console.log("classes",r),t.close()}(t,e)}})}}),r.ui.registry.addContextToolbar("oc-col",{predicate:function predicate(t){return i(r,t,"oc-col")},items:"oc-col-remove | oc-col-edit",position:"node",scope:"node"}),r.ui.registry.addContextToolbar("oc-row",{predicate:function predicate(t){return i(r,t,"oc-row")},items:"oc-row-remove | oc-col-add",position:"node",scope:"node"}),r.on("preInit",(function(){function t(n){return function(t){for(var e,o=t.length;o--;)e=t[o],i(r,e,"oc-row")&&(e.attr("contenteditable",n?"false":null),e.attr("style",n?"border: 1px dashed #ddd; padding:8px 0;":null)),i(r,e,"oc-col")&&(e.attr("contenteditable",n?"true":null),e.attr("style",n?"border: 1px dashed #ddd;":null))}}r.parser.addAttributeFilter("data-oc-widget",t(!0)),r.serializer.addAttributeFilter("data-oc-widget",t(!1))}))}var v='\n  <div class="col" style="border:1px dashed #ddd" contenteditable="true" '.concat("data-oc-widget",'="').concat("oc-col",'"></div>\n'),h='\n  <div class="row" '.concat("data-oc-widget",'="').concat("oc-row",'">').concat(v,"</div>\n");function g(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}tinymce.PluginManager.add("ordercloud",(function(t){var o,c;(o=t).ui.registry.addIcon("view-carousel",'<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 19h10V4H7v15zm-5-2h4V6H2v11zM18 6v11h4V6h-4z"/></svg>'),o.ui.registry.addButton("oc-carousel",{icon:"view-carousel",tooltip:"Insert Carousel",onAction:function onAction(){o.settings.ordercloud.open_carousel_editor().then((function(t){o.insertContent(t)}))}}),n(t),m(t),(c=t).ui.registry.addButton("oc-section",{text:"Insert Section",onAction:function onAction(){c.settings.ordercloud.open_section_picker({remoteCss:c.settings.content_css[0]}).then((function(t){c.insertContent("<div ".concat("data-oc-widget","=").concat("oc-section",">\n            ").concat(t,"\n          </div>"))})).catch((function(){}))}}),c.ui.registry.addButton("oc-section-dates",{text:"Date Settings",onAction:function onAction(){var r=c.selection.getNode();i(c,r,"oc-section")||(r=c.dom.getParent(r,"[".concat("data-oc-widget","=").concat("oc-section","]")));var t=c.dom.getAttrib(r,"data-oc-start-date"),e=c.dom.getAttrib(r,"data-oc-end-date");c.settings.ordercloud.open_section_date_settings({startDate:t,endDate:e}).then((function(t){var e;c.dom.setAttribs(r,(g(e={},"data-oc-start-date",t.startDate),g(e,"data-oc-end-date",t.endDate),e)),c.execCommand("mceSelectNode",!1,r)})).catch((function(){}))}}),c.ui.registry.addContextToolbar("oc-section",{predicate:function predicate(t){return i(c,t,"oc-section")},items:"oc-section-dates",position:"node",scope:"node"}),c.on("preInit",(function(){function t(r){return function(t){var e,o=t.length;function n(t){t.attr("contenteditable",r?"true":null)}for(;o--;)e=t[o],i(c,e,"oc-section")&&(e.attr("contenteditable",r?"false":null),a.a.each(e.getAll("h1"),n),a.a.each(e.getAll("h2"),n),a.a.each(e.getAll("h3"),n),a.a.each(e.getAll("h4"),n),a.a.each(e.getAll("h5"),n),a.a.each(e.getAll("h6"),n),a.a.each(e.getAll("p"),n),a.a.each(e.getAll("a"),n),a.a.each(e.getAll("button"),n),a.a.each(e.getAll("figure"),n),a.a.each(e.getAll("img"),n))}}c.parser.addAttributeFilter("data-oc-widget",t(!0)),c.serializer.addAttributeFilter("data-oc-widget",t(!1))}))}))}]);var index_esm=__webpack_require__(25);index_esm.a.Set({baseApiUrl:"https://marketplace-middleware-test.azurewebsites.net"}),index_esm.b.Tokens.SetAccessToken("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1c3IiOiJjcmhpc3RpYW5zdXBwbGllcjQxMTA2IiwiY2lkIjoiN2UwZmQ2MmItOWRkOS00OTM5LTllMGItMjZkODgyZmMzNTA4IiwiaW1wIjoiMTE3NyIsInUiOiIxODEyNjMwIiwidXNydHlwZSI6InN1cHBsaWVyIiwicm9sZSI6WyJCdXllclJlYWRlciIsIk1lQWRtaW4iLCJPcmRlckFkbWluIiwiUGFzc3dvcmRSZXNldCIsIlByaWNlU2NoZWR1bGVBZG1pbiIsIlByaWNlU2NoZWR1bGVSZWFkZXIiLCJQcm9kdWN0QWRtaW4iLCJQcm9kdWN0UmVhZGVyIiwiUHJvbW90aW9uQWRtaW4iLCJQcm9tb3Rpb25SZWFkZXIiLCJTaGlwbWVudEFkbWluIiwiU3VwcGxpZXJBZGRyZXNzUmVhZGVyIiwiU3VwcGxpZXJSZWFkZXIiLCJTdXBwbGllclVzZXJSZWFkZXIiXSwiaXNzIjoiaHR0cHM6Ly9hdXRoLm9yZGVyY2xvdWQuaW8iLCJhdWQiOiJodHRwczovL2FwaS5vcmRlcmNsb3VkLmlvIiwiZXhwIjoxNTk2NTc3NDAwLCJuYmYiOjE1OTY1NDg2MDB9.xl7ZidoQa7FbIkdiWvj2xsGt-SuE3GKk9HCdlWIScxk")},464:function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=464},47:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CmsAdminModule})),__webpack_require__.d(__webpack_exports__,"b",(function(){return page_editor_component_PageEditorComponent})),__webpack_require__.d(__webpack_exports__,"c",(function(){return page_list_component_PageListComponent}));var _a,_b,_c,tslib_es6=__webpack_require__(3),core=__webpack_require__(0),ng_bootstrap=__webpack_require__(19),index_esm=__webpack_require__(25),fesm2015_forms=__webpack_require__(18),filter=__webpack_require__(28),debounceTime=__webpack_require__(465),takeWhile=__webpack_require__(466),ngx_spinner=__webpack_require__(64);let asset_picker_component_AssetPickerComponent=class AssetPickerComponent{constructor(modal,formBuilder,spinner){this.modal=modal,this.formBuilder=formBuilder,this.spinner=spinner,this.loading=!0,this.alive=!0,this.previousSearchTerm="",this.parameters={page:1,pageSize:10,filters:{}}}ngOnInit(){this.searchForm=this.formBuilder.group({search:""}),this.onFormChanges(),this.changePage(1)}onFormChanges(){this.searchForm.controls.search.valueChanges.pipe(Object(filter.a)(searchTerm=>searchTerm!==this.previousSearchTerm),Object(debounceTime.a)(500),Object(takeWhile.a)(()=>this.alive)).subscribe(searchTerm=>{this.previousSearchTerm=searchTerm,this.search()})}search(){const searchTerm=this.searchForm.controls.search.value||void 0;this.parameters.filters.Title=searchTerm,this.changePage(1)}changePage(page){return this.loading=!0,this.spinner.show(),this.parameters.page=page,index_esm.b.Assets.List(this.parameters).then(assetList=>{this.list=assetList}).catch(e=>{401===e.response.status?alert("Access forbidden"):alert(e.message)}).finally(()=>{this.loading=!1,this.spinner.hide()})}ngOnDestroy(){this.alive=!1}};asset_picker_component_AssetPickerComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-asset-picker",template:(__webpack_require__(226).default||__webpack_require__(226)).length?__webpack_require__(226).default||__webpack_require__(226):"",styles:[(__webpack_require__(227).default||__webpack_require__(227)).length?__webpack_require__(227).default||__webpack_require__(227):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(_a=void 0!==ng_bootstrap.a&&ng_bootstrap.a)?_a:Object,"function"==typeof(_b=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?_b:Object,"function"==typeof(_c=void 0!==ngx_spinner.b&&ngx_spinner.b)?_c:Object])],asset_picker_component_AssetPickerComponent);var carousel_editor_component_a,carousel_editor_component_b,carousel_editor_component_c,_d,v4=__webpack_require__(1012),Subscription=__webpack_require__(14);let carousel_editor_component_CarouselEditorComponent=class CarouselEditorComponent{constructor(modal,modalService,formBuilder,zone){this.modal=modal,this.modalService=modalService,this.formBuilder=formBuilder,this.zone=zone,this.subs=new Subscription.a,this.CAROUSEL_SLIDES="CAROUSEL_SLIDES",this.slides=[],this.carouselSettings={speed:300,slidesToShow:3,slidesToScroll:3,rows:1,autoplay:!0,infinite:!0,dots:!0,arrows:!0,centerMode:!1,fade:!0}}ngOnInit(){this.carouselSettingsForm=this.formBuilder.group(this.carouselSettings),this.slideEditForm=this.formBuilder.group({Heading:"",Subheading:"",ActionText:"",ActionUrl:""}),this.onSlideEditFormChanges(),this.onCarouselSettingsFormChanges()}onSlideEditFormChanges(){this.slideEditForm.valueChanges.subscribe(formValues=>{const index=this.getSlideIndex(this.selectedSlide);this.slides[index]=Object.assign(Object.assign({},this.selectedSlide),formValues)})}onCarouselSettingsFormChanges(){this.carouselSettingsForm.valueChanges.subscribe(formValues=>{this.carouselSettings=formValues})}addCarousel(){const carouselId="oc-carousel-"+Object(v4.a)(),html=this.buildCarouselHtml.bind(this)(carouselId);this.modal.close(html)}buildCarouselHtml(carouselId){return`\n    <div class="carousel-wrapper" contenteditable="false">\n      <div id="${carouselId}">\n        ${this.slides.map(slide=>`\n            <div class="c-slide-container">\n              <img src="${slide.ImageUrl}" title="${slide.ImageTitle}"/>\n              ${slide.Heading?`<h1>${slide.Heading}</h1>`:""}\n              ${slide.Subheading?`<h2>${slide.Heading}</h2>`:""}\n              ${slide.ActionUrl&&slide.ActionText?`<a href="${slide.ActionUrl}">${slide.ActionText}</a>`:""}\n            </div>\n            `).join("")}\n      </div>\n    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css"/>\n    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css"/>\n    <script src="https://code.jquery.com/jquery-3.5.1.min.js"><\/script>\n    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"><\/script>\n    <script>\n      $(document).ready(function() {\n        $('#${carouselId}').slick({slidesToShow: 3});\n      });\n    <\/script>\n    </div>\n    `}deleteSlide(slide){this.slides=this.slides.filter(s=>s.ID!==slide.ID),this.isSelected(slide)&&(delete this.selectedSlide,this.slides.length&&(this.selectedSlide=this.slides[this.slides.length-1]))}openAssetPicker(){this.modalService.open(asset_picker_component_AssetPickerComponent,{size:"xl",centered:!0,backdropClass:"oc-tinymce-modal_backdrop",windowClass:"oc-tinymce-modal_window"}).result.then(asset=>{const slide={ID:Object(v4.a)(),ImageTitle:asset.Title,ImageUrl:asset.Url};this.slides.unshift(slide),this.selectSlide(slide)})}getSlideIndex(slide){return this.slides.map(a=>a.ID).indexOf(slide.ID)}isSelected(slide){return!!slide&&(!!this.selectedSlide&&this.selectedSlide.ID===slide.ID)}selectSlide(slide){this.selectedSlide=slide,this.slideEditForm.controls.Heading.setValue(slide.Heading),this.slideEditForm.controls.Subheading.setValue(slide.Subheading),this.slideEditForm.controls.ActionText.setValue(slide.ActionText),this.slideEditForm.controls.ActionUrl.setValue(slide.ActionUrl)}};carousel_editor_component_CarouselEditorComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-carousel-editor",template:(__webpack_require__(228).default||__webpack_require__(228)).length?__webpack_require__(228).default||__webpack_require__(228):"",styles:[(__webpack_require__(229).default||__webpack_require__(229)).length?__webpack_require__(229).default||__webpack_require__(229):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(carousel_editor_component_a=void 0!==ng_bootstrap.a&&ng_bootstrap.a)?carousel_editor_component_a:Object,"function"==typeof(carousel_editor_component_b=void 0!==ng_bootstrap.c&&ng_bootstrap.c)?carousel_editor_component_b:Object,"function"==typeof(carousel_editor_component_c=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?carousel_editor_component_c:Object,"function"==typeof(_d=void 0!==core.NgZone&&core.NgZone)?_d:Object])],carousel_editor_component_CarouselEditorComponent);var section_picker_component_a,section_picker_component_b,section_picker_component_c,section_picker_mock=['<div class="jumbotron border-0">\n        <div class="container text-center">\n            <h1>Lorem ipsum dolor</h1>\n            <p>Donec fermentum magna at ex pulvinar, sit amet viverra ex suscipit. Integer fringilla mauris vitae eleifend dictum.</p>\n            <a href="#" class="btn btn-primary">Start Now</a>\n            <a href="#" class="btn btn-link">Read More</a>\n        </div>\n    </div>','<div class="container">\n        <div class="row align-items-center">\n            <div class="col-xs-12 col-sm-12 col-md-6">\n                <h4>Nulla vitae malesuada</h4>\n                <p>Cras consequat faucibus purus, nec viverra elit molestie dictum. Nunc at tempor purus.</p>\n                <a href="#" class="btn btn-primary">Start Now</a>\n                <a href="#" class="btn btn-secondary">Read More</a>\n            </div>\n            <div class="col-xs-12 col-sm-12 col-md-6">\n                <figure style="max-width:100%">\n                    <img style="max-width:100%" src="https://via.placeholder.com/600x250.png" />\n                </figure>\n            </div>\n        </div>\n    </div>','<div class="container text-center">\n        <h2>Duis facilisis massa eget dui viverra</h2>\n        <div class="row justify-content-center">\n            <div class="col-xs-12 col-sm-6 col-md-5">\n                <div class="card">\n                    <div class="card-body">\n                        <h4>Quisque</h4>\n                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras non ante purus. Integer vitae dignissim lectus, at pharetra.</p>\n                        <a href="#" class="btn btn-primary">Watch Now</a>\n                    </div>\n                </div>\n            </div>\n            <div class="col-xs-12 col-sm-6 col-md-5">\n                <div class="card">\n                    <div class="card-body">\n                        <h4>Vivamus</h4>\n                        <p>Aliquam massa tellus, efficitur id vehicula vitae, sagittis nec orci. Etiam in sapien eget nibh consectetur semper vitae.</p>\n                        <a href="#" class="btn btn-primary">Read Now</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>'];let section_picker_component_SectionPickerComponent=class SectionPickerComponent{constructor(modal,zone){this.modal=modal,this.zone=zone,this.sectionTemplates=section_picker_mock,this.previewWidth=1024,this.previewTransformRatio=1}ngAfterViewChecked(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{const transformRatio=this.determineTransformRatio();this.previewTransformRatio!==transformRatio&&(this.previewTransformRatio=transformRatio)},100)}determineTransformRatio(){return this.listElement&&this.listElement.nativeElement?this.listElement.nativeElement.clientWidth/this.previewWidth:1}handleSelectTemplate(index){this.selectedTemplateIndex=index}submit(){this.modal.close(this.sectionTemplates[this.selectedTemplateIndex])}};var section_date_settings_component_a,section_date_settings_component_b;Object(tslib_es6.b)([Object(core.ViewChild)("list",{read:core.ElementRef}),Object(tslib_es6.c)("design:type","function"==typeof(section_picker_component_a=void 0!==core.ElementRef&&core.ElementRef)?section_picker_component_a:Object)],section_picker_component_SectionPickerComponent.prototype,"listElement",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],section_picker_component_SectionPickerComponent.prototype,"data",void 0),section_picker_component_SectionPickerComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-section-picker",template:(__webpack_require__(230).default||__webpack_require__(230)).length?__webpack_require__(230).default||__webpack_require__(230):"",styles:[(__webpack_require__(231).default||__webpack_require__(231)).length?__webpack_require__(231).default||__webpack_require__(231):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(section_picker_component_b=void 0!==ng_bootstrap.a&&ng_bootstrap.a)?section_picker_component_b:Object,"function"==typeof(section_picker_component_c=void 0!==core.NgZone&&core.NgZone)?section_picker_component_c:Object])],section_picker_component_SectionPickerComponent);let SectionDateSettingsComponent=class SectionDateSettingsComponent{constructor(modal,zone){this.modal=modal,this.zone=zone}ngOnInit(){this.startDate=this.data.startDate,this.endDate=this.data.endDate}submit(){this.modal.close({startDate:this.startDate,endDate:this.endDate})}};var html_editor_component_a,html_editor_component_b;Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],SectionDateSettingsComponent.prototype,"data",void 0),SectionDateSettingsComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-section-date-settings",template:(__webpack_require__(232).default||__webpack_require__(232)).length?__webpack_require__(232).default||__webpack_require__(232):"",styles:[(__webpack_require__(233).default||__webpack_require__(233)).length?__webpack_require__(233).default||__webpack_require__(233):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(section_date_settings_component_a=void 0!==ng_bootstrap.a&&ng_bootstrap.a)?section_date_settings_component_a:Object,"function"==typeof(section_date_settings_component_b=void 0!==core.NgZone&&core.NgZone)?section_date_settings_component_b:Object])],SectionDateSettingsComponent);let html_editor_component_HtmlEditorComponent=class HtmlEditorComponent{constructor(modalService,zone){this.modalService=modalService,this.zone=zone,this.htmlChange=new core.EventEmitter,this.resolvedEditorOptions={},this.tinymceId="tiny-angular_"+Object(v4.a)(),this.defaultEditorOptions={base_url:"/tinymce",suffix:".min",content_css:"https://mgrstoragetest.azureedge.net/buyerweb/styles.e94215343d3493186ae1.css",content_style:'\n    body {\n      padding:15px !important;\n    }\n    #tinymce[contenteditable="true"] .c-slide-container img {\n      display: none;\n    }\n\n    #tinymce[contenteditable="true"] .c-slide-container {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    #tinymce[contenteditable="true"] .c-slide-container::before {\n      content: \'\';\n      width: 100%;\n      height: 200px;\n      position: absolute;\n      background-color: lightgray;\n    }\n    #tinymce[contenteditable="true"] .c-slide-container::after {\n      font-weight: bold;\n      content: \'Carousel preview not available in edit mode. Click View > Preview\';\n      z-index: 0;\n    }\n    ',height:500,plugins:["ordercloud print preview paste importcss searchreplace autolink autosave save directionality","code visualblocks visualchars fullscreen image link media template codesample table charmap","hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools","textpattern noneditable help charmap emoticons"],menubar:"file edit view insert format tools table help",toolbar:["oc-carousel oc-product oc-section","undo redo | bold italic underline strikethrough | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | outdent indent |  numlist bullist | forecolor backcolor removeformat"],quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",imagetools_toolbar:"rotateleft rotateright | flipv fliph | editimage imageoptions",contextmenu:"link image imagetools table oc-product oc-row oc-col oc-section",toolbar_sticky:!0,autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",importcss_append:!0,toolbar_mode:"sliding",extended_valid_elements:"script[src|async|defer|type|charset]",image_advtab:!0,ordercloud:{},image_uploadtab:!0,images_upload_handler(blobInfo,successCallback,errorCallback){window.tinymce.execCommand("ocAssetUploader",!0,{blobInfo:blobInfo,successCallback:successCallback,errorCallback:errorCallback})},imagetools_cors_hosts:["marktplacetest.blob.core.windows.net"]}}ngOnInit(){this.html=this.initialValue,Object.assign(this.resolvedEditorOptions,this.defaultEditorOptions,this.editorOptions),this.resolvedEditorOptions.file_picker_callback=(callback,value,meta)=>{this.zone.run(()=>{this.openAssetPicker.bind(this)(callback,value,meta)})},this.resolvedEditorOptions.ordercloud.open_carousel_editor=editor=>this.zone.run(()=>this.openCarouselEditor.bind(this)(editor)),this.resolvedEditorOptions.ordercloud.open_section_picker=data=>this.zone.run(()=>this.openSectionPicker.bind(this)(data)),this.resolvedEditorOptions.ordercloud.open_section_date_settings=data=>this.zone.run(()=>this.openSectionDateSettings.bind(this)(data))}ngOnChanges(changes){changes.initialValue&&!changes.initialValue.firstChange&&changes.initialValue.currentValue!==this.html&&(this.html=changes.initialValue.currentValue)}onEditorChange(e){console.log(e),this.htmlChange.emit(this.html)}openAssetPicker(callback,value,meta){this.modalService.open(asset_picker_component_AssetPickerComponent,{size:"xl",centered:!0,backdropClass:"oc-tinymce-modal_backdrop",windowClass:"oc-tinymce-modal_window"}).result.then(asset=>{"image"===meta.filetype?callback(asset.Url,{alt:asset.Title}):("file"===meta.filetype||"media"===meta.filetype)&&console.error("Filetype is not yet implemented")})}openCarouselEditor(){return this.modalService.open(carousel_editor_component_CarouselEditorComponent,{size:"xl",centered:!0,backdropClass:"oc-tinymce-modal_backdrop",windowClass:"oc-tinymce-modal_window"}).result}openSectionPicker(data){const modalRef=this.modalService.open(section_picker_component_SectionPickerComponent,{size:"xl",centered:!0,backdropClass:"oc-tinymce-modal_backdrop",windowClass:"oc-tinymce-modal_window"});return modalRef.componentInstance.data=data,modalRef.result}openSectionDateSettings(data){const modalRef=this.modalService.open(SectionDateSettingsComponent,{size:"md",centered:!0,backdropClass:"oc-tinymce-modal_backdrop",windowClass:"oc-tinymce-modal_window"});return modalRef.componentInstance.data=data,modalRef.result}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],html_editor_component_HtmlEditorComponent.prototype,"initialValue",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],html_editor_component_HtmlEditorComponent.prototype,"editorOptions",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],html_editor_component_HtmlEditorComponent.prototype,"htmlChange",void 0),html_editor_component_HtmlEditorComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-html-editor",template:(__webpack_require__(234).default||__webpack_require__(234)).length?__webpack_require__(234).default||__webpack_require__(234):"",styles:[(__webpack_require__(235).default||__webpack_require__(235)).length?__webpack_require__(235).default||__webpack_require__(235):""],encapsulation:core.ViewEncapsulation.None}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(html_editor_component_a=void 0!==ng_bootstrap.c&&ng_bootstrap.c)?html_editor_component_a:Object,"function"==typeof(html_editor_component_b=void 0!==core.NgZone&&core.NgZone)?html_editor_component_b:Object])],html_editor_component_HtmlEditorComponent);var Case=__webpack_require__(278),dist_index_esm=__webpack_require__(500);const PAGE_SCHEMA={ID:"cms-page-schema",RestrictedAssignmentTypes:["Suppliers"],Schema:{$schema:"http://json-schema.org/draft-07/schema#",title:"OrderCloud CMS Page Schema",type:"object",properties:{Title:{type:"string"},Url:{type:"string"},SiteUrl:{type:"string"},Description:{type:"string"},MetaImageUrl:{type:"string"},DateCreated:{type:"string"},Author:{type:"string"},DateLastUpdated:{type:"string"},LastUpdatedBy:{type:"string"},HeaderEmbeds:{type:"string"},Content:{type:"string"},FooterEmbeds:{type:"string"},Active:{type:"boolean"},NavigationTitle:{type:"string"}}}};var page_editor_component_a,page_editor_component_b;const EMPTY_PAGE_CONTENT_DOC={Title:"",Url:"",Description:"",HeaderEmbeds:"",Content:"",FooterEmbeds:"",Active:!1,NavigationTitle:""};let page_editor_component_PageEditorComponent=class PageEditorComponent{constructor(modalService){this.modalService=modalService,this.backClicked=new core.EventEmitter,this.pageSaved=new core.EventEmitter,this.pageDeleted=new core.EventEmitter}ngOnInit(){this.page=Object.assign({},this.document?this.document.Doc:EMPTY_PAGE_CONTENT_DOC),this.automaticUrl=!this.page||this.page.Url===Object(Case.kebab)(this.page.Title),this.pageNavigation=Boolean(!this.page||this.page.NavigationTitle)}ngOnChanges(changes){changes.document&&!changes.document.firstChange&&this.ngOnInit()}onPageContentChange(html){this.page=Object.assign(Object.assign({},this.page),{Content:html})}onPageTitleKeyUp(value){this.automaticUrl&&(this.page.Url=Object(Case.kebab)(value))}onAutomaticUrlChange(){this.automaticUrl&&this.page.Title&&(this.page.Url=Object(Case.kebab)(this.page.Title))}onPageNavigationChange(){this.pageNavigation&&!this.page.NavigationTitle?this.page.NavigationTitle=this.page.Title:this.page.NavigationTitle=""}onPageStatusChange(){this.page.Active=!this.page.Active}onSubmit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.isLoadingSave=!0;const updated=yield this.saveChanges().finally(()=>this.isLoadingSave=!1);this.pageSaved.emit(updated)}))}saveChanges(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const me=yield dist_index_esm.a.Get(),nowDate=(new Date).toISOString(),fullName=`${me.FirstName} ${me.LastName}`;return this.document&&this.document.ID?index_esm.b.Documents.Update(PAGE_SCHEMA.ID,this.document.ID,{ID:this.document.ID,Doc:Object.assign(Object.assign({},this.page),{DateLastUpdated:nowDate,LastUpdatedBy:fullName})}):index_esm.b.Documents.Create(PAGE_SCHEMA.ID,{Doc:Object.assign(Object.assign({},this.page),{Author:fullName,DateCreated:nowDate,DateLastUpdated:nowDate,LastUpdatedBy:fullName})})}))}onDelete(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){yield index_esm.b.Documents.Delete(PAGE_SCHEMA.ID,this.document.ID).finally(()=>this.pageDeleted.emit(this.document.ID)),this.confirmModal.close()}))}confirmDeletePage(confirmModalTemplate){this.confirmModal=this.modalService.open(confirmModalTemplate)}get hasChanges(){return JSON.stringify(this.document.Doc)!==JSON.stringify(this.page)}get isValid(){return Boolean(this.page.Title&&(this.page.Url||!this.page.Url&&"Home"===this.page.Title))}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],page_editor_component_PageEditorComponent.prototype,"renderSiteUrl",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],page_editor_component_PageEditorComponent.prototype,"editorOptions",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type","function"==typeof(page_editor_component_a=void 0!==index_esm.JDocument&&index_esm.JDocument)?page_editor_component_a:Object)],page_editor_component_PageEditorComponent.prototype,"document",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],page_editor_component_PageEditorComponent.prototype,"backClicked",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],page_editor_component_PageEditorComponent.prototype,"pageSaved",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],page_editor_component_PageEditorComponent.prototype,"pageDeleted",void 0),page_editor_component_PageEditorComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-page-editor",template:(__webpack_require__(236).default||__webpack_require__(236)).length?__webpack_require__(236).default||__webpack_require__(236):"",styles:[(__webpack_require__(237).default||__webpack_require__(237)).length?__webpack_require__(237).default||__webpack_require__(237):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(page_editor_component_b=void 0!==ng_bootstrap.c&&ng_bootstrap.c)?page_editor_component_b:Object])],page_editor_component_PageEditorComponent);let confirm_modal_component_ConfirmModalComponent=class ConfirmModalComponent{constructor(){this.proceed=new core.EventEmitter,this.cancel=new core.EventEmitter}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],confirm_modal_component_ConfirmModalComponent.prototype,"confirmText",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],confirm_modal_component_ConfirmModalComponent.prototype,"cancelText",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],confirm_modal_component_ConfirmModalComponent.prototype,"message",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],confirm_modal_component_ConfirmModalComponent.prototype,"proceed",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],confirm_modal_component_ConfirmModalComponent.prototype,"cancel",void 0),confirm_modal_component_ConfirmModalComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-confirm-modal",template:(__webpack_require__(238).default||__webpack_require__(238)).length?__webpack_require__(238).default||__webpack_require__(238):"",styles:[(__webpack_require__(239).default||__webpack_require__(239)).length?__webpack_require__(239).default||__webpack_require__(239):""]})],confirm_modal_component_ConfirmModalComponent);__webpack_require__(277);var common=__webpack_require__(5),tinymce_tinymce_angular=__webpack_require__(279);let NoResultsComponent=class NoResultsComponent{constructor(){}ngOnInit(){}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],NoResultsComponent.prototype,"message",void 0),NoResultsComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-no-results",template:(__webpack_require__(240).default||__webpack_require__(240)).length?__webpack_require__(240).default||__webpack_require__(240):"",styles:[(__webpack_require__(241).default||__webpack_require__(241)).length?__webpack_require__(241).default||__webpack_require__(241):""]}),Object(tslib_es6.c)("design:paramtypes",[])],NoResultsComponent);var safe_html_pipe_a,platform_browser=__webpack_require__(29);let SafeHtmlPipe=class SafeHtmlPipe{constructor(sanitizer){this.sanitizer=sanitizer}transform(html){return this.sanitizer.bypassSecurityTrustHtml(html)}};SafeHtmlPipe=Object(tslib_es6.b)([Object(core.Pipe)({name:"safeHtml"}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(safe_html_pipe_a=void 0!==platform_browser.DomSanitizer&&platform_browser.DomSanitizer)?safe_html_pipe_a:Object])],SafeHtmlPipe);let CmsSharedModule=class CmsSharedModule{};CmsSharedModule=Object(tslib_es6.b)([Object(core.NgModule)({declarations:[NoResultsComponent,SafeHtmlPipe],imports:[fesm2015_forms.FormsModule,fesm2015_forms.ReactiveFormsModule,tinymce_tinymce_angular.a,ng_bootstrap.f,ng_bootstrap.b,ng_bootstrap.d,ng_bootstrap.e,ngx_spinner.a,common.a],exports:[common.a,fesm2015_forms.FormsModule,fesm2015_forms.ReactiveFormsModule,tinymce_tinymce_angular.a,ng_bootstrap.f,ng_bootstrap.b,ng_bootstrap.d,ng_bootstrap.e,ngx_spinner.a,NoResultsComponent,SafeHtmlPipe],providers:[{provide:tinymce_tinymce_angular.b,useValue:"tinymce/tinymce.min.js"}],schemas:[core.CUSTOM_ELEMENTS_SCHEMA]})],CmsSharedModule);const declarations=[__webpack_require__(119).a];let CmsBuyerModule=class CmsBuyerModule{};CmsBuyerModule=Object(tslib_es6.b)([Object(core.NgModule)({declarations:declarations,imports:[CmsSharedModule],exports:declarations})],CmsBuyerModule);var asset_update_component_a,asset_update_component_b,asset_list_component=__webpack_require__(164);let asset_update_component_AssetUpdateComponent=class AssetUpdateComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.onSubmit=new core.EventEmitter,this.onDelete=new core.EventEmitter}ngOnInit(){this.setForm()}setForm(){const formGroup={Title:[this.asset?this.asset.Title:null,fesm2015_forms.Validators.required],Url:[this.asset?this.asset.Url:null,null],Active:[!!this.asset&&this.asset.Active],ID:[this.asset?this.asset.ID:null,null],Type:[this.asset?this.asset.Type:this.assetType],FileName:[this.asset?this.asset.FileName:null]};this.assetForm=this.formBuilder.group(formGroup)}uploadFile(file){const reader=new FileReader;reader.onload=e=>{this.assetForm.controls.Url.setValue(e.target.result)},reader.readAsDataURL(file),this.assetForm.controls.FileName.setValue(file.name)}formValid(){return this.assetForm.valid}deleteAsset(assetID){return index_esm.b.Assets.Delete(assetID).then(()=>{this.onDelete.emit()})}saveChanges(asset){let updatedAsset=asset.value;return this.isNew?index_esm.b.Upload.UploadAsset(updatedAsset).then(()=>{this.isNew=!1,this.onSubmit.emit({action:"UploadAsset",asset:updatedAsset})}):index_esm.b.Assets.Update(updatedAsset.ID,updatedAsset).then(()=>{this.onSubmit.emit({action:"Update",asset:updatedAsset})})}deleteFile(){this.assetForm.controls.Url.setValue(null),this.assetForm.controls.FileName.setValue(null)}};Object(tslib_es6.b)([Object(core.ViewChild)("fileDropRef",{static:!1}),Object(tslib_es6.c)("design:type","function"==typeof(asset_update_component_a=void 0!==core.ElementRef&&core.ElementRef)?asset_update_component_a:Object)],asset_update_component_AssetUpdateComponent.prototype,"fileDropEl",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],asset_update_component_AssetUpdateComponent.prototype,"asset",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],asset_update_component_AssetUpdateComponent.prototype,"assetType",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Boolean)],asset_update_component_AssetUpdateComponent.prototype,"isNew",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],asset_update_component_AssetUpdateComponent.prototype,"onSubmit",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],asset_update_component_AssetUpdateComponent.prototype,"onDelete",void 0),asset_update_component_AssetUpdateComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-asset-update",template:(__webpack_require__(246).default||__webpack_require__(246)).length?__webpack_require__(246).default||__webpack_require__(246):"",styles:[(__webpack_require__(247).default||__webpack_require__(247)).length?__webpack_require__(247).default||__webpack_require__(247):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(asset_update_component_b=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?asset_update_component_b:Object])],asset_update_component_AssetUpdateComponent);let asset_upload_component_AssetUploadComponent=class AssetUploadComponent{constructor(){this.cancel=new core.EventEmitter,this.submit=new core.EventEmitter}ngOnInit(){}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],asset_upload_component_AssetUploadComponent.prototype,"assetType",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],asset_upload_component_AssetUploadComponent.prototype,"cancel",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],asset_upload_component_AssetUploadComponent.prototype,"submit",void 0),asset_upload_component_AssetUploadComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-asset-upload",template:(__webpack_require__(248).default||__webpack_require__(248)).length?__webpack_require__(248).default||__webpack_require__(248):"",styles:[(__webpack_require__(249).default||__webpack_require__(249)).length?__webpack_require__(249).default||__webpack_require__(249):""]}),Object(tslib_es6.c)("design:paramtypes",[])],asset_upload_component_AssetUploadComponent);let drag_and_drop_directive_DragAndDropDirective=class DragAndDropDirective{constructor(){this.fileDropped=new core.EventEmitter}onDragOver(evt){evt.preventDefault(),evt.stopPropagation(),this.fileOver=!0}onDragLeave(evt){evt.preventDefault(),evt.stopPropagation(),this.fileOver=!1}ondrop(evt){evt.preventDefault(),evt.stopPropagation(),this.fileOver=!1;let files=evt.dataTransfer.files;files.length>0&&this.fileDropped.emit(files[0])}};var asset_search_component_a;Object(tslib_es6.b)([Object(core.HostBinding)("class.fileover"),Object(tslib_es6.c)("design:type",Boolean)],drag_and_drop_directive_DragAndDropDirective.prototype,"fileOver",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],drag_and_drop_directive_DragAndDropDirective.prototype,"fileDropped",void 0),Object(tslib_es6.b)([Object(core.HostListener)("dragover",["$event"]),Object(tslib_es6.c)("design:type",Function),Object(tslib_es6.c)("design:paramtypes",[Object]),Object(tslib_es6.c)("design:returntype",void 0)],drag_and_drop_directive_DragAndDropDirective.prototype,"onDragOver",null),Object(tslib_es6.b)([Object(core.HostListener)("dragleave",["$event"]),Object(tslib_es6.c)("design:type",Function),Object(tslib_es6.c)("design:paramtypes",[Object]),Object(tslib_es6.c)("design:returntype",void 0)],drag_and_drop_directive_DragAndDropDirective.prototype,"onDragLeave",null),Object(tslib_es6.b)([Object(core.HostListener)("drop",["$event"]),Object(tslib_es6.c)("design:type",Function),Object(tslib_es6.c)("design:paramtypes",[Object]),Object(tslib_es6.c)("design:returntype",void 0)],drag_and_drop_directive_DragAndDropDirective.prototype,"ondrop",null),drag_and_drop_directive_DragAndDropDirective=Object(tslib_es6.b)([Object(core.Directive)({selector:"[cmsDragAndDrop]"})],drag_and_drop_directive_DragAndDropDirective);let asset_search_component_AssetSearchComponent=class AssetSearchComponent{constructor(formBuilder){this.formBuilder=formBuilder,this.alive=!0,this.searched=new core.EventEmitter,this.previousSearchTerm=""}ngOnInit(){this.form=this.formBuilder.group({search:this.searchTerm||""}),this.onFormChanges(),this.onQueryParamChanges()}onFormChanges(){this.form.controls.search.valueChanges.pipe(Object(filter.a)(searchTerm=>searchTerm!==this.previousSearchTerm),Object(debounceTime.a)(500),Object(takeWhile.a)(()=>this.alive)).subscribe(searchTerm=>{this.previousSearchTerm=searchTerm})}search(){const searchTerm=this.form.controls.search.value;this.searched.emit(searchTerm||void 0)}onQueryParamChanges(){}showClear(){return""!==this.form.get("search").value}clear(){this.form.setValue({search:""}),this.search()}ngOnDestroy(){this.alive=!1}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],asset_search_component_AssetSearchComponent.prototype,"assetType",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],asset_search_component_AssetSearchComponent.prototype,"placeholderText",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],asset_search_component_AssetSearchComponent.prototype,"searchTerm",void 0),Object(tslib_es6.b)([Object(core.Output)(),Object(tslib_es6.c)("design:type",Object)],asset_search_component_AssetSearchComponent.prototype,"searched",void 0),asset_search_component_AssetSearchComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-asset-search",template:(__webpack_require__(250).default||__webpack_require__(250)).length?__webpack_require__(250).default||__webpack_require__(250):"",styles:[(__webpack_require__(251).default||__webpack_require__(251)).length?__webpack_require__(251).default||__webpack_require__(251):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(asset_search_component_a=void 0!==fesm2015_forms.FormBuilder&&fesm2015_forms.FormBuilder)?asset_search_component_a:Object])],asset_search_component_AssetSearchComponent);var page_list_component_a,page_list_component_b,Subject=__webpack_require__(13),operators=__webpack_require__(357);let page_list_component_PageListComponent=class PageListComponent{constructor(spinner){this.spinner=spinner,this.listOptions={},this.searchTerm="",this.searchTermChanged=new Subject.a,this.loading=!0}ngOnInit(){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){this.spinner.show(),this.list=yield index_esm.b.Documents.List(PAGE_SCHEMA.ID,this.listOptions).catch(ex=>ex&&ex.response&&ex.response.data&&ex.response.data.Data&&ex.response.data.Data.ObjectID===PAGE_SCHEMA.ID?index_esm.b.Schemas.Create(PAGE_SCHEMA).then(()=>index_esm.b.Documents.List(PAGE_SCHEMA.ID,this.listOptions)):ex).finally(()=>{this.loading=!1,this.spinner.hide()}),this.searchTermChanged.pipe(Object(operators.debounceTime)(300),Object(operators.distinctUntilChanged)()).subscribe(searchTerm=>{this.searchTerm=searchTerm,console.log("Searched for "+searchTerm)})}))}onSearchFieldChange(searchTerm){this.searchTermChanged.next(searchTerm)}onPageSaved(updated){const documentIndex=this.list.Items.findIndex(d=>d.ID===updated.ID);this.selected=updated,documentIndex>=0?this.list.Items[documentIndex]=updated:this.list={Items:[...this.list.Items,updated],Meta:Object.assign(Object.assign({},this.list.Meta),{TotalCount:this.list.Meta.TotalCount++,ItemRange:[this.list.Meta.ItemRange[0],this.list.Meta.ItemRange[1]++]})}}onPageDeleted(deletedId){const filteredList=this.list.Items.filter(d=>d.ID!==deletedId);this.selected=void 0,this.list={Items:filteredList,Meta:Object.assign(Object.assign({},this.list.Meta),{TotalCount:filteredList.length,ItemRange:[this.list.Meta.ItemRange[0],filteredList.length]})}}goToList(e){this.selected=void 0,this.ngOnInit()}selectPage(page){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){if(page||(page={ID:null,Doc:{Title:"",Url:"",SiteUrl:this.renderSiteUrl,Description:"",MetaImageUrl:"",DateCreated:"",Author:"",DateLastUpdated:"",LastUpdatedBy:"",HeaderEmbeds:"",Content:"",FooterEmbeds:"",Active:!1,NavigationTitle:""}}),this.selected=page,this.selected.ID){const selectedIndex=this.list.Items.findIndex(d=>d.ID===this.selected.ID),selectedPage=yield index_esm.b.Documents.Get(PAGE_SCHEMA.ID,this.selected.ID);this.selected.Doc.DateLastUpdated!==selectedPage.Doc.DateLastUpdated&&(this.list.Items[selectedIndex]=selectedPage,this.selected=selectedPage)}}))}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type","function"==typeof(page_list_component_a=void 0!==index_esm.ListArgs&&index_esm.ListArgs)?page_list_component_a:Object)],page_list_component_PageListComponent.prototype,"listOptions",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Object)],page_list_component_PageListComponent.prototype,"editorOptions",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],page_list_component_PageListComponent.prototype,"renderSiteUrl",void 0),page_list_component_PageListComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-page-list",template:(__webpack_require__(255).default||__webpack_require__(255)).length?__webpack_require__(255).default||__webpack_require__(255):"",styles:[(__webpack_require__(256).default||__webpack_require__(256)).length?__webpack_require__(256).default||__webpack_require__(256):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(page_list_component_b=void 0!==ngx_spinner.b&&ngx_spinner.b)?page_list_component_b:Object])],page_list_component_PageListComponent);let StatusIconComponent=class StatusIconComponent{constructor(){}ngOnInit(){this.color="active"===this.status?"#70D97A":"#dc3545"}};var section_template_renderer_component_a,section_template_renderer_component_b;Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],StatusIconComponent.prototype,"status",void 0),StatusIconComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-status-icon",template:(__webpack_require__(257).default||__webpack_require__(257)).length?__webpack_require__(257).default||__webpack_require__(257):"",styles:[(__webpack_require__(258).default||__webpack_require__(258)).length?__webpack_require__(258).default||__webpack_require__(258):""]}),Object(tslib_es6.c)("design:paramtypes",[])],StatusIconComponent);let SectionTemplateRendererComponent=class SectionTemplateRendererComponent{constructor(sanitizer){this.sanitizer=sanitizer}ngOnInit(){this.remoteCss&&(this.iframeSource=this.initIframeSource())}ngOnChanges(changes){this.checkPreviewTransformRatio(changes),this.checkRemoteCss(changes)}checkPreviewTransformRatio(changes){(changes.previewTransformRatio&&changes.previewTransformRatio.currentValue!==changes.previewTransformRatio.previousValue||changes.height&&changes.height.currentValue!==changes.height.previousValue)&&(this.transform=`scale(${this.previewTransformRatio})`,this.rootHeight=this.previewTransformRatio*(this.height+4))}checkRemoteCss(changes){changes.remoteCss&&!changes.remoteCss.firstChange&&changes.remoteCss.currentValue!==changes.remoteCss.previousValue&&(this.iframeSource=this.initIframeSource())}initIframeSource(){const documentSource=`<?xml version="1.0" encoding="UTF-8"?>\n      <html xmlns="http://www.w3.org/1999/xhtml">\n      <head>\n      <meta name="viewport" content="width=device-width, initial-scale=1"/>\n      <style>@import url('${this.remoteCss}');</style>\n      </head>\n      <body style="padding-top:0 !important;">${this.html}</body>\n      </html>`,blob=new Blob([documentSource],{type:"application/xhtml+xml"});return this.sanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(blob))}onIframeLoaded(){if(this.iframeElement){const iframeDoc=this.iframeElement.nativeElement.contentWindow.document;this.height=iframeDoc.body.clientHeight,this.rootHeight=(this.height+4)*this.previewTransformRatio}}};Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],SectionTemplateRendererComponent.prototype,"html",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Boolean)],SectionTemplateRendererComponent.prototype,"selected",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",String)],SectionTemplateRendererComponent.prototype,"remoteCss",void 0),Object(tslib_es6.b)([Object(core.ViewChild)("iframe",{read:core.ElementRef}),Object(tslib_es6.c)("design:type","function"==typeof(section_template_renderer_component_a=void 0!==core.ElementRef&&core.ElementRef)?section_template_renderer_component_a:Object)],SectionTemplateRendererComponent.prototype,"iframeElement",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Number)],SectionTemplateRendererComponent.prototype,"previewWidth",void 0),Object(tslib_es6.b)([Object(core.Input)(),Object(tslib_es6.c)("design:type",Number)],SectionTemplateRendererComponent.prototype,"previewTransformRatio",void 0),SectionTemplateRendererComponent=Object(tslib_es6.b)([Object(core.Component)({selector:"cms-section-template-renderer",template:(__webpack_require__(259).default||__webpack_require__(259)).length?__webpack_require__(259).default||__webpack_require__(259):"",styles:[(__webpack_require__(260).default||__webpack_require__(260)).length?__webpack_require__(260).default||__webpack_require__(260):""]}),Object(tslib_es6.c)("design:paramtypes",["function"==typeof(section_template_renderer_component_b=void 0!==platform_browser.DomSanitizer&&platform_browser.DomSanitizer)?section_template_renderer_component_b:Object])],SectionTemplateRendererComponent);const admin_module_declarations=[asset_search_component_AssetSearchComponent,html_editor_component_HtmlEditorComponent,page_editor_component_PageEditorComponent,asset_picker_component_AssetPickerComponent,carousel_editor_component_CarouselEditorComponent,confirm_modal_component_ConfirmModalComponent,section_picker_component_SectionPickerComponent,SectionDateSettingsComponent,asset_list_component.a,asset_update_component_AssetUpdateComponent,asset_upload_component_AssetUploadComponent,drag_and_drop_directive_DragAndDropDirective,page_list_component_PageListComponent,StatusIconComponent,SectionTemplateRendererComponent];let CmsAdminModule=class CmsAdminModule{};CmsAdminModule=Object(tslib_es6.b)([Object(core.NgModule)({declarations:admin_module_declarations,entryComponents:[confirm_modal_component_ConfirmModalComponent,asset_picker_component_AssetPickerComponent,carousel_editor_component_CarouselEditorComponent,section_picker_component_SectionPickerComponent,SectionDateSettingsComponent],imports:[CmsSharedModule,CmsBuyerModule],exports:admin_module_declarations})],CmsAdminModule)},502:function(module,exports,__webpack_require__){__webpack_require__(503),__webpack_require__(648),__webpack_require__(649),module.exports=__webpack_require__(1008)},569:function(module,exports){},649:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(83);module._StorybookPreserveDecorators=!0,Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(866)],module)}.call(this,__webpack_require__(650)(module))},866:function(module,exports,__webpack_require__){var map={"./asset-list.stories.ts":867,"./page-editor.stories.ts":1005,"./page-list.stories.ts":1006,"./page-renderer.stories.ts":1007};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=866},867:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"FullExample",(function(){return FullExample}));__webpack_require__(261);var _storybook_angular__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(83),_public_api__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(29),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(118),_admin_components_asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(164);__webpack_exports__.default={title:"Admin/Asset List",component:_admin_components_asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_5__.a,parameters:{component:_admin_components_asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_5__.a},decorators:[Object(_storybook_angular__WEBPACK_IMPORTED_MODULE_1__.moduleMetadata)({declarations:[],imports:[_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.BrowserModule,_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_4__.a,_public_api__WEBPACK_IMPORTED_MODULE_2__.a]})]};const FullExample=()=>({component:_admin_components_asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_5__.a,template:"<cms-asset-list></cms-asset-list>",props:{}})}},[[502,1,2]]]);
//# sourceMappingURL=main.06168f35f8ddfcd3db0e.bundle.js.map