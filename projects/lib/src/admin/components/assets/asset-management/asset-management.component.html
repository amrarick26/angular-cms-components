<div class="d-flex flex-column h-100 overflow-hidden">
  <div class="flex-grow-0 flex-shrink-0">
    <cms-asset-toolbar
      [multiple]="multiple"
      [(search)]="search"
      [(listMode)]="listMode"
      (assetsUploaded)="handleAssetsUploaded($event)"
    ></cms-asset-toolbar>
  </div>
  <div
    class="d-flex flex-grow-1 flex-shrink-1 align-items-stretch overflow-hidden"
  >
    <div class="flex-grow-0 flex-shrink-1">
      <!-- ASSET FILTERS -->
      <cms-asset-filters
        [types]="assetTypes"
        [tags]="tagOptions"
      ></cms-asset-filters>
    </div>
    <div class="flex-grow-1 flex-shrink-1 overflow-hidden">
      <!-- ASSET LIST -->
      <div class="d-flex h-100 w-100">
        <cms-asset-list
          [items]="items"
          [meta]="meta"
          [shrink]="!!assetDetail"
          [(assetDetail)]="assetDetail"
          [(selected)]="selected"
          [selectable]="selectable"
          [multiple]="multiple"
          [mode]="listMode"
        ></cms-asset-list>
        <cms-asset-detail
          *ngIf="assetDetail"
          [asset]="assetDetail"
          [tagOptions]="tagOptions"
          (closeClick)="assetDetail = undefined"
          (assetDeleted)="handleAssetDeleted($event)"
          (saveClick)="handleSaveAsset($event)"
        >
        </cms-asset-detail>
      </div>

      <!-- LOADING INDICATOR -->
      <ngx-spinner
        type="ball-beat"
        bdColor="rgba(255, 255, 255, 0.38)"
        color="#969696"
        [fullScreen]="false"
      ></ngx-spinner>
    </div>
  </div>
</div>
